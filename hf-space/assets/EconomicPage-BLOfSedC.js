import{j as e,a as i}from"./three-CwL82Xzi.js";import{c as m,R as h,A as u,X as g,Y as b,T as v,a as p}from"./charts-Cw4TBZXl.js";import{u as c,S as f}from"./index-DRYyjZ-u.js";const j={blue:"shadow-blue-500/20 hover:shadow-blue-500/30",green:"shadow-green-500/20 hover:shadow-green-500/30",amber:"shadow-amber-500/20 hover:shadow-amber-500/30",rose:"shadow-rose-500/20 hover:shadow-rose-500/30",purple:"shadow-purple-500/20 hover:shadow-purple-500/30",cyan:"shadow-cyan-500/20 hover:shadow-cyan-500/30",red:"shadow-red-500/20 hover:shadow-red-500/30",none:""},y={none:"",sm:"p-2 lg:p-3",md:"p-3 lg:p-4",lg:"p-4 lg:p-6"};function d({children:a,className:t="",glow:n="blue",padding:r="md"}){return e.jsx("div",{className:m("glass-panel transition-shadow duration-200",j[n],y[r],t),children:a})}function N(){const{getTreasuryStatus:a}=c(),[t,n]=i.useState(null);return i.useEffect(()=>{const r=async()=>{const s=await a();s&&n(s)};r();const l=setInterval(r,1e4);return()=>clearInterval(l)},[a]),e.jsxs(d,{glow:"amber",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Treasury"}),e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-amber-600",children:["$",(t?.balance||0).toFixed(2)]}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Current Balance"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["+$",(t?.total_revenue||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Total Revenue"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-red-500",children:["-$",(t?.total_expenses||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Total Expenses"})]})]})]})}function w(){const{getRevenueReport:a}=c(),[t,n]=i.useState([]);i.useEffect(()=>{const l=async()=>{const o=await a();o?.history&&n(o.history)};l();const s=setInterval(l,3e4);return()=>clearInterval(s)},[a]);const r=t.length>0?t:[{date:"Mon",revenue:0,expenses:0},{date:"Tue",revenue:0,expenses:0},{date:"Wed",revenue:0,expenses:0},{date:"Thu",revenue:0,expenses:0},{date:"Fri",revenue:0,expenses:0}];return e.jsxs(d,{glow:"green",padding:"lg",className:"h-full",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Revenue Over Time"}),e.jsx("div",{className:"h-64",children:e.jsx(h,{width:"100%",height:"100%",children:e.jsxs(u,{data:r,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),e.jsx(g,{dataKey:"date",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(b,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:l=>`$${l}`}),e.jsx(v,{contentStyle:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),e.jsx(p,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorRevenue)"}),e.jsx(p,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorExpenses)"})]})})})]})}function k(){const{getMarketplaceListings:a}=c(),[t,n]=i.useState([]);i.useEffect(()=>{const s=async()=>{const x=await a();x?.listings&&n(x.listings)};s();const o=setInterval(s,15e3);return()=>clearInterval(o)},[a]);const r={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",sold:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"},l={service:"ðŸ”§",capability:"âš¡",knowledge:"ðŸ“š"};return e.jsxs(d,{glow:"none",padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Marketplace Listings"}),e.jsxs("span",{className:"text-sm text-slate-500",children:[t.filter(s=>s.status==="active").length," active"]})]}),t.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No marketplace listings yet."}):e.jsx("div",{className:"space-y-3",children:t.map(s=>e.jsx("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:l[s.type]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.title}),e.jsx("p",{className:"text-sm text-slate-500 line-clamp-1",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:["$",s.price.toFixed(2)]}),e.jsx("span",{className:m("px-2 py-0.5 rounded text-xs font-medium capitalize",r[s.status]),children:s.status})]})]})},s.id))})]})}function S(){return e.jsxs("div",{className:"min-h-screen bg-[var(--obs-bg-base)] obs-grid-bg animate-fade-in pb-20",children:[e.jsx("div",{className:"px-4 py-4 border-b border-[var(--obs-border)]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"obs-label text-sm tracking-widest text-[var(--obs-text-primary)]",children:"ECONOMIC AGENCY"}),e.jsx(f,{status:"nominal",label:"ACTIVE"})]}),e.jsx("span",{className:"obs-label text-[10px] text-[var(--obs-text-tertiary)]",children:"SELF-SUSTAINING OPERATIONS"})]})}),e.jsxs("div",{className:"p-4 space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[e.jsx(N,{}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(w,{})})]}),e.jsx(k,{})]})]})}export{S as EconomicPage,S as default};

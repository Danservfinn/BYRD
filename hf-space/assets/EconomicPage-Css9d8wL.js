import{a as n,j as e}from"./three-vAZ6Lf4N.js";import{G as d}from"./GlassPanel-sWTvn4PI.js";import{u as o}from"./index-BCj-z186.js";import{R as m,A as h,X as f,Y as g,T as u,a as p,c as j}from"./charts-qd40zQW5.js";function v(){const{getTreasuryStatus:a}=o(),[t,i]=n.useState(null);return n.useEffect(()=>{const r=async()=>{const s=await a();s&&i(s)};r();const l=setInterval(r,1e4);return()=>clearInterval(l)},[a]),e.jsxs(d,{glow:"amber",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Treasury"}),e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-amber-600",children:["$",(t?.balance||0).toFixed(2)]}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Current Balance"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["+$",(t?.total_revenue||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Total Revenue"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-red-500",children:["-$",(t?.total_expenses||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Total Expenses"})]})]})]})}function b(){const{getRevenueReport:a}=o(),[t,i]=n.useState([]);n.useEffect(()=>{const l=async()=>{const c=await a();c?.history&&i(c.history)};l();const s=setInterval(l,3e4);return()=>clearInterval(s)},[a]);const r=t.length>0?t:[{date:"Mon",revenue:0,expenses:0},{date:"Tue",revenue:0,expenses:0},{date:"Wed",revenue:0,expenses:0},{date:"Thu",revenue:0,expenses:0},{date:"Fri",revenue:0,expenses:0}];return e.jsxs(d,{glow:"green",padding:"lg",className:"h-full",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Revenue Over Time"}),e.jsx("div",{className:"h-64",children:e.jsx(m,{width:"100%",height:"100%",children:e.jsxs(h,{data:r,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),e.jsx(f,{dataKey:"date",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(g,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:l=>`$${l}`}),e.jsx(u,{contentStyle:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),e.jsx(p,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorRevenue)"}),e.jsx(p,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorExpenses)"})]})})})]})}function y(){const{getMarketplaceListings:a}=o(),[t,i]=n.useState([]);n.useEffect(()=>{const s=async()=>{const x=await a();x?.listings&&i(x.listings)};s();const c=setInterval(s,15e3);return()=>clearInterval(c)},[a]);const r={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",sold:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"},l={service:"ðŸ”§",capability:"âš¡",knowledge:"ðŸ“š"};return e.jsxs(d,{glow:"none",padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Marketplace Listings"}),e.jsxs("span",{className:"text-sm text-slate-500",children:[t.filter(s=>s.status==="active").length," active"]})]}),t.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No marketplace listings yet."}):e.jsx("div",{className:"space-y-3",children:t.map(s=>e.jsx("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:l[s.type]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.title}),e.jsx("p",{className:"text-sm text-slate-500 line-clamp-1",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:["$",s.price.toFixed(2)]}),e.jsx("span",{className:j("px-2 py-0.5 rounded text-xs font-medium capitalize",r[s.status]),children:s.status})]})]})},s.id))})]})}function T(){return e.jsxs("div",{className:"space-y-4 lg:space-y-6 animate-fade-in pb-20",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Economic Agency"}),e.jsx("p",{className:"text-xs lg:text-sm text-slate-500 dark:text-slate-400",children:"Self-sustaining economic operations"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6 px-4",children:[e.jsx(v,{}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(b,{})})]}),e.jsx("div",{className:"px-4",children:e.jsx(y,{})})]})}export{T as EconomicPage};

import{a as o,j as e,c as it,d as ot}from"./three-Bzu9bMCq.js";import{c as N,R as ct,A as dt,X as ut,Y as xt,T as mt,a as Ie}from"./charts-y9woElLX.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=a(r);fetch(r.href,l)}})();var _e="popstate";function ht(t={}){function s(n,r){let{pathname:l,search:i,hash:c}=n.location;return je("",{pathname:l,search:i,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:te(r)}return ft(s,a,null,t)}function I(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function F(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function pt(){return Math.random().toString(36).substring(2,10)}function Te(t,s){return{usr:t.state,key:t.key,idx:s}}function je(t,s,a=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?Q(s):s,state:a,key:s&&s.key||n||pt()}}function te({pathname:t="/",search:s="",hash:a=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Q(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substring(a),t=t.substring(0,a));let n=t.indexOf("?");n>=0&&(s.search=t.substring(n),t=t.substring(0,n)),t&&(s.pathname=t)}return s}function ft(t,s,a,n={}){let{window:r=document.defaultView,v5Compat:l=!1}=n,i=r.history,c="POP",d=null,u=x();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function x(){return(i.state||{idx:null}).idx}function m(){c="POP";let b=x(),v=b==null?null:b-u;u=b,d&&d({action:c,location:g.location,delta:v})}function p(b,v){c="PUSH";let y=je(g.location,b,v);u=x()+1;let j=Te(y,u),E=g.createHref(y);try{i.pushState(j,"",E)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(E)}l&&d&&d({action:c,location:g.location,delta:1})}function f(b,v){c="REPLACE";let y=je(g.location,b,v);u=x();let j=Te(y,u),E=g.createHref(y);i.replaceState(j,"",E),l&&d&&d({action:c,location:g.location,delta:0})}function h(b){return gt(b)}let g={get action(){return c},get location(){return t(r,i)},listen(b){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(_e,m),d=b,()=>{r.removeEventListener(_e,m),d=null}},createHref(b){return s(r,b)},createURL:h,encodeLocation(b){let v=h(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:f,go(b){return i.go(b)}};return g}function gt(t,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),I(a,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:te(t);return n=n.replace(/ $/,"%20"),!s&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function Fe(t,s,a="/"){return bt(t,s,a,!1)}function bt(t,s,a,n){let r=typeof s=="string"?Q(s):s,l=H(r.pathname||"/",a);if(l==null)return null;let i=ze(t);vt(i);let c=null;for(let d=0;c==null&&d<i.length;++d){let u=It(l);c=Rt(i[d],u,n)}return c}function ze(t,s=[],a=[],n="",r=!1){let l=(i,c,d=r,u)=>{let x={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(n)&&d)return;I(x.relativePath.startsWith(n),`Absolute route path "${x.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(n.length)}let m=U([n,x.relativePath]),p=a.concat(x);i.children&&i.children.length>0&&(I(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ze(i.children,s,p,m,d)),!(i.path==null&&!i.index)&&s.push({path:m,score:Et(m,i.index),routesMeta:p})};return t.forEach((i,c)=>{if(i.path===""||!i.path?.includes("?"))l(i,c);else for(let d of Be(i.path))l(i,c,!0,d)}),s}function Be(t){let s=t.split("/");if(s.length===0)return[];let[a,...n]=s,r=a.endsWith("?"),l=a.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let i=Be(n.join("/")),c=[];return c.push(...i.map(d=>d===""?l:[l,d].join("/"))),r&&c.push(...i),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function vt(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:St(s.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var yt=/^:[\w-]+$/,jt=3,Nt=2,wt=1,kt=10,Ct=-2,Me=t=>t==="*";function Et(t,s){let a=t.split("/"),n=a.length;return a.some(Me)&&(n+=Ct),s&&(n+=Nt),a.filter(r=>!Me(r)).reduce((r,l)=>r+(yt.test(l)?jt:l===""?wt:kt),n)}function St(t,s){return t.length===s.length&&t.slice(0,-1).every((n,r)=>n===s[r])?t[t.length-1]-s[s.length-1]:0}function Rt(t,s,a=!1){let{routesMeta:n}=t,r={},l="/",i=[];for(let c=0;c<n.length;++c){let d=n[c],u=c===n.length-1,x=l==="/"?s:s.slice(l.length)||"/",m=me({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},x),p=d.route;if(!m&&u&&a&&!n[n.length-1].route.index&&(m=me({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},x)),!m)return null;Object.assign(r,m.params),i.push({params:r,pathname:U([l,m.pathname]),pathnameBase:Dt(U([l,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(l=U([l,m.pathnameBase]))}return i}function me(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=Pt(t.path,t.caseSensitive,t.end),r=s.match(a);if(!r)return null;let l=r[0],i=l.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((u,{paramName:x,isOptional:m},p)=>{if(x==="*"){let h=c[p]||"";i=l.slice(0,l.length-h.length).replace(/(.)\/+$/,"$1")}const f=c[p];return m&&!f?u[x]=void 0:u[x]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:t}}function Pt(t,s=!1,a=!0){F(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),n]}function It(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return F(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function H(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}var Ue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=t=>Ue.test(t);function Tt(t,s="/"){let{pathname:a,search:n="",hash:r=""}=typeof t=="string"?Q(t):t,l;if(a)if(_t(a))l=a;else{if(a.includes("//")){let i=a;a=a.replace(/\/\/+/g,"/"),F(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${a}`)}a.startsWith("/")?l=De(a.substring(1),"/"):l=De(a,s)}else l=s;return{pathname:l,search:Lt(n),hash:$t(r)}}function De(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function fe(t,s,a,n){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mt(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function He(t){let s=Mt(t);return s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase)}function We(t,s,a,n=!1){let r;typeof t=="string"?r=Q(t):(r={...t},I(!r.pathname||!r.pathname.includes("?"),fe("?","pathname","search",r)),I(!r.pathname||!r.pathname.includes("#"),fe("#","pathname","hash",r)),I(!r.search||!r.search.includes("#"),fe("#","search","hash",r)));let l=t===""||r.pathname==="",i=l?"/":r.pathname,c;if(i==null)c=a;else{let m=s.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),m-=1;r.pathname=p.join("/")}c=m>=0?s[m]:"/"}let d=Tt(r,c),u=i&&i!=="/"&&i.endsWith("/"),x=(l||i===".")&&a.endsWith("/");return!d.pathname.endsWith("/")&&(u||x)&&(d.pathname+="/"),d}var U=t=>t.join("/").replace(/\/\/+/g,"/"),Dt=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Lt=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$t=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,At=class{constructor(t,s,a,n=!1){this.status=t,this.statusText=s||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function Ot(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Ft(t){return t.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ve(t,s){let a=t;if(typeof a!="string"||!Ue.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let n=a,r=!1;if(Ge)try{let l=new URL(window.location.href),i=a.startsWith("//")?new URL(l.protocol+a):new URL(a),c=H(i.pathname,s);i.origin===l.origin&&c!=null?a=c+i.search+i.hash:r=!0}catch{F(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ye=["POST","PUT","PATCH","DELETE"];new Set(Ye);var zt=["GET",...Ye];new Set(zt);var q=o.createContext(null);q.displayName="DataRouter";var he=o.createContext(null);he.displayName="DataRouterState";var Bt=o.createContext(!1),Je=o.createContext({isTransitioning:!1});Je.displayName="ViewTransition";var Ut=o.createContext(new Map);Ut.displayName="Fetchers";var Ht=o.createContext(null);Ht.displayName="Await";var A=o.createContext(null);A.displayName="Navigation";var se=o.createContext(null);se.displayName="Location";var W=o.createContext({outlet:null,matches:[],isDataRoute:!1});W.displayName="Route";var we=o.createContext(null);we.displayName="RouteError";var Ke="REACT_ROUTER_ERROR",Wt="REDIRECT",Gt="ROUTE_ERROR_RESPONSE";function Vt(t){if(t.startsWith(`${Ke}:${Wt}:{`))try{let s=JSON.parse(t.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function Yt(t){if(t.startsWith(`${Ke}:${Gt}:{`))try{let s=JSON.parse(t.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new At(s.status,s.statusText,s.data)}catch{}}function Jt(t,{relative:s}={}){I(ae(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=o.useContext(A),{hash:r,pathname:l,search:i}=re(t,{relative:s}),c=l;return a!=="/"&&(c=l==="/"?a:U([a,l])),n.createHref({pathname:c,search:i,hash:r})}function ae(){return o.useContext(se)!=null}function K(){return I(ae(),"useLocation() may be used only in the context of a <Router> component."),o.useContext(se).location}var Xe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qe(t){o.useContext(A).static||o.useLayoutEffect(t)}function Kt(){let{isDataRoute:t}=o.useContext(W);return t?os():Xt()}function Xt(){I(ae(),"useNavigate() may be used only in the context of a <Router> component.");let t=o.useContext(q),{basename:s,navigator:a}=o.useContext(A),{matches:n}=o.useContext(W),{pathname:r}=K(),l=JSON.stringify(He(n)),i=o.useRef(!1);return Qe(()=>{i.current=!0}),o.useCallback((d,u={})=>{if(F(i.current,Xe),!i.current)return;if(typeof d=="number"){a.go(d);return}let x=We(d,JSON.parse(l),r,u.relative==="path");t==null&&s!=="/"&&(x.pathname=x.pathname==="/"?s:U([s,x.pathname])),(u.replace?a.replace:a.push)(x,u.state,u)},[s,a,l,r,t])}o.createContext(null);function re(t,{relative:s}={}){let{matches:a}=o.useContext(W),{pathname:n}=K(),r=JSON.stringify(He(a));return o.useMemo(()=>We(t,JSON.parse(r),n,s==="path"),[t,r,n,s])}function Qt(t,s){return qe(t,s)}function qe(t,s,a,n,r){I(ae(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=o.useContext(A),{matches:i}=o.useContext(W),c=i[i.length-1],d=c?c.params:{},u=c?c.pathname:"/",x=c?c.pathnameBase:"/",m=c&&c.route;{let y=m&&m.path||"";et(u,!m||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let p=K(),f;if(s){let y=typeof s=="string"?Q(s):s;I(x==="/"||y.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=p;let h=f.pathname||"/",g=h;if(x!=="/"){let y=x.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=Fe(t,{pathname:g});F(m||b!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),F(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=ss(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},d,y.params),pathname:U([x,l.encodeLocation?l.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?x:U([x,l.encodeLocation?l.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),i,a,n,r);return s&&v?o.createElement(se.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function qt(){let t=is(),s=Ot(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",t),i=o.createElement(o.Fragment,null,o.createElement("p",null,"üíø Hey developer üëã"),o.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",o.createElement("code",{style:l},"ErrorBoundary")," or"," ",o.createElement("code",{style:l},"errorElement")," prop on your route.")),o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},s),a?o.createElement("pre",{style:r},a):null,i)}var Zt=o.createElement(qt,null),Ze=class extends o.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=Yt(t.digest);a&&(t=a)}let s=t!==void 0?o.createElement(W.Provider,{value:this.props.routeContext},o.createElement(we.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?o.createElement(es,{error:t},s):s}};Ze.contextType=Bt;var ge=new WeakMap;function es({children:t,error:s}){let{basename:a}=o.useContext(A);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let n=Vt(s.digest);if(n){let r=ge.get(s);if(r)throw r;let l=Ve(n.location,a);if(Ge&&!ge.get(s))if(l.isExternal||n.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:n.replace}));throw ge.set(s,i),i}return o.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function ts({routeContext:t,match:s,children:a}){let n=o.useContext(q);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),o.createElement(W.Provider,{value:t},a)}function ss(t,s=[],a=null,n=null,r=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let l=t,i=a?.errors;if(i!=null){let x=l.findIndex(m=>m.route.id&&i?.[m.route.id]!==void 0);I(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let c=!1,d=-1;if(a)for(let x=0;x<l.length;x++){let m=l[x];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=x),m.route.id){let{loaderData:p,errors:f}=a,h=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!f||f[m.route.id]===void 0);if(m.route.lazy||h){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let u=a&&n?(x,m)=>{n(x,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:Ft(a.matches),errorInfo:m})}:void 0;return l.reduceRight((x,m,p)=>{let f,h=!1,g=null,b=null;a&&(f=i&&m.route.id?i[m.route.id]:void 0,g=m.route.errorElement||Zt,c&&(d<0&&p===0?(et("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,b=null):d===p&&(h=!0,b=m.route.hydrateFallbackElement||null)));let v=s.concat(l.slice(0,p+1)),y=()=>{let j;return f?j=g:h?j=b:m.route.Component?j=o.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=x,o.createElement(ts,{match:m,routeContext:{outlet:x,matches:v,isDataRoute:a!=null},children:j})};return a&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?o.createElement(Ze,{location:a.location,revalidation:a.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):y()},null)}function ke(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function as(t){let s=o.useContext(q);return I(s,ke(t)),s}function rs(t){let s=o.useContext(he);return I(s,ke(t)),s}function ns(t){let s=o.useContext(W);return I(s,ke(t)),s}function Ce(t){let s=ns(t),a=s.matches[s.matches.length-1];return I(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function ls(){return Ce("useRouteId")}function is(){let t=o.useContext(we),s=rs("useRouteError"),a=Ce("useRouteError");return t!==void 0?t:s.errors?.[a]}function os(){let{router:t}=as("useNavigate"),s=Ce("useNavigate"),a=o.useRef(!1);return Qe(()=>{a.current=!0}),o.useCallback(async(r,l={})=>{F(a.current,Xe),a.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:s,...l}))},[t,s])}var Le={};function et(t,s,a){!s&&!Le[t]&&(Le[t]=!0,F(!1,a))}o.memo(cs);function cs({routes:t,future:s,state:a,onError:n}){return qe(t,void 0,a,n,s)}function B(t){I(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ds({basename:t="/",children:s=null,location:a,navigationType:n="POP",navigator:r,static:l=!1,unstable_useTransitions:i}){I(!ae(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=o.useMemo(()=>({basename:c,navigator:r,static:l,unstable_useTransitions:i,future:{}}),[c,r,l,i]);typeof a=="string"&&(a=Q(a));let{pathname:u="/",search:x="",hash:m="",state:p=null,key:f="default"}=a,h=o.useMemo(()=>{let g=H(u,c);return g==null?null:{location:{pathname:g,search:x,hash:m,state:p,key:f},navigationType:n}},[c,u,x,m,p,f,n]);return F(h!=null,`<Router basename="${c}"> is not able to match the URL "${u}${x}${m}" because it does not start with the basename, so the <Router> won't render anything.`),h==null?null:o.createElement(A.Provider,{value:d},o.createElement(se.Provider,{children:s,value:h}))}function us({children:t,location:s}){return Qt(Ne(t),s)}function Ne(t,s=[]){let a=[];return o.Children.forEach(t,(n,r)=>{if(!o.isValidElement(n))return;let l=[...s,r];if(n.type===o.Fragment){a.push.apply(a,Ne(n.props.children,l));return}I(n.type===B,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),I(!n.props.index||!n.props.children,"An index route cannot have child routes.");let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ne(n.props.children,l)),a.push(i)}),a}var ue="get",xe="application/x-www-form-urlencoded";function pe(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function xs(t){return pe(t)&&t.tagName.toLowerCase()==="button"}function ms(t){return pe(t)&&t.tagName.toLowerCase()==="form"}function hs(t){return pe(t)&&t.tagName.toLowerCase()==="input"}function ps(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fs(t,s){return t.button===0&&(!s||s==="_self")&&!ps(t)}var ne=null;function gs(){if(ne===null)try{new FormData(document.createElement("form"),0),ne=!1}catch{ne=!0}return ne}var bs=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function be(t){return t!=null&&!bs.has(t)?(F(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xe}"`),null):t}function vs(t,s){let a,n,r,l,i;if(ms(t)){let c=t.getAttribute("action");n=c?H(c,s):null,a=t.getAttribute("method")||ue,r=be(t.getAttribute("enctype"))||xe,l=new FormData(t)}else if(xs(t)||hs(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(n=d?H(d,s):null,a=t.getAttribute("formmethod")||c.getAttribute("method")||ue,r=be(t.getAttribute("formenctype"))||be(c.getAttribute("enctype"))||xe,l=new FormData(c,t),!gs()){let{name:u,type:x,value:m}=t;if(x==="image"){let p=u?`${u}.`:"";l.append(`${p}x`,"0"),l.append(`${p}y`,"0")}else u&&l.append(u,m)}}else{if(pe(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ue,n=null,r=xe,i=t}return l&&r==="text/plain"&&(i=l,l=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:l,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ee(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function ys(t,s,a){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${a}`:s&&H(n.pathname,s)==="/"?n.pathname=`${s.replace(/\/$/,"")}/_root.${a}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${a}`,n}async function js(t,s){if(t.id in s)return s[t.id];try{let a=await import(t.module);return s[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ns(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ws(t,s,a){let n=await Promise.all(t.map(async r=>{let l=s.routes[r.route.id];if(l){let i=await js(l,a);return i.links?i.links():[]}return[]}));return Ss(n.flat(1).filter(Ns).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function $e(t,s,a,n,r,l){let i=(d,u)=>a[u]?d.route.id!==a[u].route.id:!0,c=(d,u)=>a[u].pathname!==d.pathname||a[u].route.path?.endsWith("*")&&a[u].params["*"]!==d.params["*"];return l==="assets"?s.filter((d,u)=>i(d,u)||c(d,u)):l==="data"?s.filter((d,u)=>{let x=n.routes[d.route.id];if(!x||!x.hasLoader)return!1;if(i(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function ks(t,s,{includeHydrateFallback:a}={}){return Cs(t.map(n=>{let r=s.routes[n.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function Cs(t){return[...new Set(t)]}function Es(t){let s={},a=Object.keys(t).sort();for(let n of a)s[n]=t[n];return s}function Ss(t,s){let a=new Set;return new Set(s),t.reduce((n,r)=>{let l=JSON.stringify(Es(r));return a.has(l)||(a.add(l),n.push({key:l,link:r})),n},[])}function tt(){let t=o.useContext(q);return Ee(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Rs(){let t=o.useContext(he);return Ee(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Se=o.createContext(void 0);Se.displayName="FrameworkContext";function st(){let t=o.useContext(Se);return Ee(t,"You must render this element inside a <HydratedRouter> element"),t}function Ps(t,s){let a=o.useContext(Se),[n,r]=o.useState(!1),[l,i]=o.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:x,onTouchStart:m}=s,p=o.useRef(null);o.useEffect(()=>{if(t==="render"&&i(!0),t==="viewport"){let g=v=>{v.forEach(y=>{i(y.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[t]),o.useEffect(()=>{if(n){let g=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(g)}}},[n]);let f=()=>{r(!0)},h=()=>{r(!1),i(!1)};return a?t!=="intent"?[l,p,{}]:[l,p,{onFocus:ee(c,f),onBlur:ee(d,h),onMouseEnter:ee(u,f),onMouseLeave:ee(x,h),onTouchStart:ee(m,f)}]:[!1,p,{}]}function ee(t,s){return a=>{t&&t(a),a.defaultPrevented||s(a)}}function Is({page:t,...s}){let{router:a}=tt(),n=o.useMemo(()=>Fe(a.routes,t,a.basename),[a.routes,t,a.basename]);return n?o.createElement(Ts,{page:t,matches:n,...s}):null}function _s(t){let{manifest:s,routeModules:a}=st(),[n,r]=o.useState([]);return o.useEffect(()=>{let l=!1;return ws(t,s,a).then(i=>{l||r(i)}),()=>{l=!0}},[t,s,a]),n}function Ts({page:t,matches:s,...a}){let n=K(),{manifest:r,routeModules:l}=st(),{basename:i}=tt(),{loaderData:c,matches:d}=Rs(),u=o.useMemo(()=>$e(t,s,d,r,n,"data"),[t,s,d,r,n]),x=o.useMemo(()=>$e(t,s,d,r,n,"assets"),[t,s,d,r,n]),m=o.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let h=new Set,g=!1;if(s.forEach(v=>{let y=r.routes[v.route.id];!y||!y.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in c&&l[v.route.id]?.shouldRevalidate||y.hasClientLoader?g=!0:h.add(v.route.id))}),h.size===0)return[];let b=ys(t,i,"data");return g&&h.size>0&&b.searchParams.set("_routes",s.filter(v=>h.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[i,c,n,r,u,s,t,l]),p=o.useMemo(()=>ks(x,r),[x,r]),f=_s(x);return o.createElement(o.Fragment,null,m.map(h=>o.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...a})),p.map(h=>o.createElement("link",{key:h,rel:"modulepreload",href:h,...a})),f.map(({key:h,link:g})=>o.createElement("link",{key:h,nonce:a.nonce,...g})))}function Ms(...t){return s=>{t.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var Ds=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ds&&(window.__reactRouterVersion="7.11.0")}catch{}function Ls({basename:t,children:s,unstable_useTransitions:a,window:n}){let r=o.useRef();r.current==null&&(r.current=ht({window:n,v5Compat:!0}));let l=r.current,[i,c]=o.useState({action:l.action,location:l.location}),d=o.useCallback(u=>{a===!1?c(u):o.startTransition(()=>c(u))},[a]);return o.useLayoutEffect(()=>l.listen(d),[l,d]),o.createElement(ds,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:l,unstable_useTransitions:a})}var at=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=o.forwardRef(function({onClick:s,discover:a="render",prefetch:n="none",relative:r,reloadDocument:l,replace:i,state:c,target:d,to:u,preventScrollReset:x,viewTransition:m,unstable_defaultShouldRevalidate:p,...f},h){let{basename:g,unstable_useTransitions:b}=o.useContext(A),v=typeof u=="string"&&at.test(u),y=Ve(u,g);u=y.to;let j=Jt(u,{relative:r}),[E,w,C]=Ps(n,f),k=Os(u,{replace:i,state:c,target:d,preventScrollReset:x,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:b});function R(z){s&&s(z),z.defaultPrevented||k(z)}let L=o.createElement("a",{...f,...C,href:y.absoluteURL||j,onClick:y.isExternal||l?s:R,ref:Ms(h,w),target:d,"data-discover":!v&&a==="render"?"true":void 0});return E&&!v?o.createElement(o.Fragment,null,L,o.createElement(Is,{page:j})):L});rt.displayName="Link";var nt=o.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:n="",end:r=!1,style:l,to:i,viewTransition:c,children:d,...u},x){let m=re(i,{relative:u.relative}),p=K(),f=o.useContext(he),{navigator:h,basename:g}=o.useContext(A),b=f!=null&&Hs(m)&&c===!0,v=h.encodeLocation?h.encodeLocation(m).pathname:m.pathname,y=p.pathname,j=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;a||(y=y.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&g&&(j=H(j,g)||j);const E=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let w=y===v||!r&&y.startsWith(v)&&y.charAt(E)==="/",C=j!=null&&(j===v||!r&&j.startsWith(v)&&j.charAt(v.length)==="/"),k={isActive:w,isPending:C,isTransitioning:b},R=w?s:void 0,L;typeof n=="function"?L=n(k):L=[n,w?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(k):l;return o.createElement(rt,{...u,"aria-current":R,className:L,ref:x,style:z,to:i,viewTransition:c},typeof d=="function"?d(k):d)});nt.displayName="NavLink";var $s=o.forwardRef(({discover:t="render",fetcherKey:s,navigate:a,reloadDocument:n,replace:r,state:l,method:i=ue,action:c,onSubmit:d,relative:u,preventScrollReset:x,viewTransition:m,unstable_defaultShouldRevalidate:p,...f},h)=>{let{unstable_useTransitions:g}=o.useContext(A),b=Bs(),v=Us(c,{relative:u}),y=i.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&at.test(c),E=w=>{if(d&&d(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,k=C?.getAttribute("formmethod")||i,R=()=>b(C||w.currentTarget,{fetcherKey:s,method:k,navigate:a,replace:r,state:l,relative:u,preventScrollReset:x,viewTransition:m,unstable_defaultShouldRevalidate:p});g&&a!==!1?o.startTransition(()=>R()):R()};return o.createElement("form",{ref:h,method:y,action:v,onSubmit:n?d:E,...f,"data-discover":!j&&t==="render"?"true":void 0})});$s.displayName="Form";function As(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lt(t){let s=o.useContext(q);return I(s,As(t)),s}function Os(t,{target:s,replace:a,state:n,preventScrollReset:r,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let u=Kt(),x=K(),m=re(t,{relative:l});return o.useCallback(p=>{if(fs(p,s)){p.preventDefault();let f=a!==void 0?a:te(x)===te(m),h=()=>u(t,{replace:f,state:n,preventScrollReset:r,relative:l,viewTransition:i,unstable_defaultShouldRevalidate:c});d?o.startTransition(()=>h()):h()}},[x,u,m,a,n,s,t,r,l,i,c,d])}var Fs=0,zs=()=>`__${String(++Fs)}__`;function Bs(){let{router:t}=lt("useSubmit"),{basename:s}=o.useContext(A),a=ls(),n=t.fetch,r=t.navigate;return o.useCallback(async(l,i={})=>{let{action:c,method:d,encType:u,formData:x,body:m}=vs(l,s);if(i.navigate===!1){let p=i.fetcherKey||zs();await n(p,a,i.action||c,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:x,body:m,formMethod:i.method||d,formEncType:i.encType||u,flushSync:i.flushSync})}else await r(i.action||c,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:x,body:m,formMethod:i.method||d,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:a,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,r,s,a])}function Us(t,{relative:s}={}){let{basename:a}=o.useContext(A),n=o.useContext(W);I(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),l={...re(t||".",{relative:s})},i=K();if(t==null){l.search=i.search;let c=new URLSearchParams(l.search),d=c.getAll("index");if(d.some(x=>x==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let x=c.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(l.pathname=l.pathname==="/"?a:U([a,l.pathname])),te(l)}function Hs(t,{relative:s}={}){let a=o.useContext(Je);I(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=lt("useViewTransitionState"),r=re(t,{relative:s});if(!a.isTransitioning)return!1;let l=H(a.currentLocation.pathname,n)||a.currentLocation.pathname,i=H(a.nextLocation.pathname,n)||a.nextLocation.pathname;return me(r.pathname,i)!=null||me(r.pathname,l)!=null}function V({to:t,icon:s,label:a}){return e.jsxs(nt,{to:t,className:({isActive:n})=>N("flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-200",n?"bg-blue-500/10 text-blue-600 dark:text-blue-400 font-medium":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"),children:[e.jsx("span",{className:"text-lg",children:s}),e.jsx("span",{className:"text-sm",children:a})]})}function Ws(){return e.jsxs("aside",{className:"w-64 border-r border-slate-200 dark:border-slate-700 bg-[var(--bg-secondary)] flex flex-col",children:[e.jsxs("div",{className:"h-16 flex items-center px-6 border-b border-slate-200 dark:border-slate-700",children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"BYRD"}),e.jsx("span",{className:"ml-2 text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"RSI Dashboard"})]}),e.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[e.jsx(V,{to:"/",icon:"üìä",label:"Dashboard"}),e.jsx(V,{to:"/rsi",icon:"üîÑ",label:"RSI Engine"}),e.jsx(V,{to:"/economic",icon:"üí∞",label:"Economic"}),e.jsx(V,{to:"/plasticity",icon:"üß†",label:"Plasticity"}),e.jsx(V,{to:"/scaling",icon:"üìà",label:"Scaling"}),e.jsx(V,{to:"/verification",icon:"‚úì",label:"Verification"}),e.jsx(V,{to:"/controls",icon:"‚öôÔ∏è",label:"Controls"}),e.jsx(V,{to:"/visualization",icon:"üåê",label:"3D Topology"})]}),e.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("div",{children:"BYRD v3.0"}),e.jsx("div",{children:"Digital ASI Research"})]})})]})}const Gs=500,X=it((t,s)=>({events:[],connected:!1,lastEventTime:null,addEvent:a=>{t(n=>({events:[a,...n.events].slice(0,Gs),lastEventTime:a.timestamp}))},setConnected:a=>t({connected:a}),clearEvents:()=>t({events:[],lastEventTime:null}),getEventsByType:a=>s().events.filter(n=>n.type===a)}));function Vs(){const t=X(s=>s.connected);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${t?"bg-green-500 animate-pulse-glow":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:t?"Connected":"Disconnected"})]})}function Ys(){return e.jsxs("header",{className:"h-16 border-b border-slate-200 dark:border-slate-700 bg-[var(--bg-card)] flex items-center justify-between px-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h1",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"BYRD Control Center"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Vs,{}),e.jsx(Js,{}),e.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700"}),e.jsx(Ks,{})]})]})}function Js(){const a={running:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",dot:"bg-green-500",label:"Running"},idle:{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-400",dot:"bg-slate-400",label:"Idle"},error:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",dot:"bg-red-500",label:"Error"}}["idle"];return e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full ${a.bg}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${a.dot} `}),e.jsx("span",{className:`text-xs font-medium ${a.text}`,children:a.label})]})}function Ks(){const t=()=>{document.documentElement.classList.toggle("dark")};return e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",title:"Toggle theme",children:e.jsx("span",{className:"text-lg",children:"üåì"})})}function Xs({children:t}){return e.jsxs("div",{className:"flex h-screen bg-[var(--bg-primary)]",children:[e.jsx(Ws,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Ys,{}),e.jsx("main",{className:"flex-1 overflow-auto p-6",children:t})]})]})}const Qs={blue:"shadow-blue-500/20 hover:shadow-blue-500/30",green:"shadow-green-500/20 hover:shadow-green-500/30",amber:"shadow-amber-500/20 hover:shadow-amber-500/30",rose:"shadow-rose-500/20 hover:shadow-rose-500/30",purple:"shadow-purple-500/20 hover:shadow-purple-500/30",cyan:"shadow-cyan-500/20 hover:shadow-cyan-500/30",red:"shadow-red-500/20 hover:shadow-red-500/30",none:""},qs={none:"",sm:"p-3",md:"p-4",lg:"p-6"};function S({children:t,className:s="",glow:a="blue",padding:n="md"}){return e.jsx("div",{className:N("glass-panel transition-shadow duration-200",Qs[a],qs[n],s),children:t})}const Zs="/api";function _(){const[t,s]=o.useState(!1),[a,n]=o.useState(null),r=o.useCallback(async(D,G)=>{s(!0),n(null);try{const J=await fetch(`${Zs}${D}`,{headers:{"Content-Type":"application/json"},...G});if(!J.ok)throw new Error(`HTTP ${J.status}: ${J.statusText}`);return await J.json()}catch(J){const Pe=J instanceof Error?J.message:"Unknown error";return n(Pe),console.error(`API Error: ${Pe}`),null}finally{s(!1)}},[]),l=o.useCallback(async()=>r("/status"),[r]),i=o.useCallback(async()=>await r("/start",{method:"POST"})!==null,[r]),c=o.useCallback(async()=>await r("/stop",{method:"POST"})!==null,[r]),d=o.useCallback(async(D=!1)=>await r("/reset",{method:"POST",body:JSON.stringify({hard_reset:D})})!==null,[r]),u=o.useCallback(async()=>r("/rsi/status"),[r]),x=o.useCallback(async()=>r("/rsi/metrics"),[r]),m=o.useCallback(async()=>r("/rsi/ralph-loop"),[r]),p=o.useCallback(async()=>r("/economic/treasury"),[r]),f=o.useCallback(async()=>r("/economic/revenue"),[r]),h=o.useCallback(async()=>r("/economic/marketplace"),[r]),g=o.useCallback(async()=>r("/scaling/growth-rate"),[r]),b=o.useCallback(async()=>r("/scaling/explosion-phase"),[r]),v=o.useCallback(async()=>r("/verification/human-anchoring"),[r]),y=o.useCallback(async(D,G)=>r(`/verification/human-anchoring/${D}`,{method:"POST",body:JSON.stringify(G)}),[r]),j=o.useCallback(async(D,G)=>r(`/verification/human-anchoring/${D}`,{method:"POST",body:JSON.stringify({approved:G})}),[r]),E=o.useCallback(async()=>r("/verification/status"),[r]),w=o.useCallback(async()=>r("/plasticity/modules"),[r]),C=o.useCallback(async()=>r("/plasticity/nas"),[r]),k=o.useCallback(async()=>r("/scaling/metrics"),[r]),R=o.useCallback(async()=>r("/rsi/cycle",{method:"POST"}),[r]),L=o.useCallback(async()=>r("/rsi/stop",{method:"POST"}),[r]),z=o.useCallback(async()=>r("/system/reset",{method:"POST"}),[r]),T=o.useCallback(async()=>r("/system/status"),[r]),P=o.useCallback(async()=>r("/governance/direction"),[r]),M=o.useCallback(async D=>r("/governance/direction",{method:"POST",body:JSON.stringify({content:D})}),[r]),$=o.useCallback(async D=>r("/governance/command",{method:"POST",body:JSON.stringify({command:D})}),[r]),O=o.useCallback(async()=>r("/governance/history"),[r]),Y=o.useCallback(async(D,G)=>r("/governance/inject-desire",{method:"POST",body:JSON.stringify({description:D,urgency:G})}),[r]),Re=o.useCallback(async()=>r("/governance/desires"),[r]),Z=o.useCallback(async()=>r("/memory/graph"),[r]);return{loading:t,error:a,getStatus:l,startByrd:i,stopByrd:c,resetByrd:d,getRSIStatus:u,getRSIMetrics:x,getRalphLoopStatus:m,getTreasuryStatus:p,getRevenueReport:f,getMarketplaceListings:h,getGrowthRate:g,getExplosionPhase:b,getScalingMetrics:k,getHumanAnchoringQueue:v,processHumanValidation:y,submitAnchoringResponse:j,getVerificationStatus:E,getPlasticityModules:w,getNASCandidates:C,startRSICycle:R,stopRSICycle:L,resetSystem:z,getSystemStatus:T,getDirection:P,updateDirection:M,sendGovernanceCommand:$,getGovernanceHistory:O,injectDesire:Y,getInjectedDesires:Re,getMemoryGraph:Z}}function ea(){const{getRSIStatus:t,loading:s}=_(),[a,n]=o.useState(null);return o.useEffect(()=>{const r=async()=>{const i=await t();i&&n(i)};r();const l=setInterval(r,5e3);return()=>clearInterval(l)},[t]),e.jsxs(S,{glow:"blue",padding:"lg",className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"System Status"}),e.jsx(ta,{status:a?.running?"running":"idle"})]}),s&&!a?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("span",{className:"text-slate-400 animate-pulse",children:"Loading..."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Current Phase"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(sa,{phase:a?.current_phase||"idle"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Cycle Progress"}),e.jsx("div",{className:"grid grid-cols-8 gap-1 mt-2",children:["reflect","verify","collapse","route","practice","record","crystallize","measure"].map(r=>e.jsx(aa,{phase:r,active:a?.current_phase===r,completed:ra(a?.completed_phases,r)},r))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx(le,{label:"Cycles",value:a?.cycle_count||0}),e.jsx(le,{label:"Heuristics",value:a?.heuristics_count||0}),e.jsx(le,{label:"Beliefs",value:a?.beliefs_count||0}),e.jsx(le,{label:"Capabilities",value:a?.capabilities_count||0})]})]})]})}function ta({status:t}){const a={running:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",label:"Running"},idle:{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-600 dark:text-slate-400",label:"Idle"},error:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",label:"Error"}}[t];return e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${a.bg} ${a.text}`,children:a.label})}function sa({phase:t}){const s={reflect:"var(--rsi-reflect)",verify:"var(--rsi-verify)",collapse:"var(--rsi-collapse)",route:"var(--rsi-route)",practice:"var(--rsi-practice)",record:"var(--rsi-record)",crystallize:"var(--rsi-crystallize)",measure:"var(--rsi-measure)",idle:"#64748b"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s[t]||s.idle}}),e.jsx("span",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 capitalize",children:t})]})}function aa({phase:t,active:s,completed:a}){const n={reflect:"var(--rsi-reflect)",verify:"var(--rsi-verify)",collapse:"var(--rsi-collapse)",route:"var(--rsi-route)",practice:"var(--rsi-practice)",record:"var(--rsi-record)",crystallize:"var(--rsi-crystallize)",measure:"var(--rsi-measure)"};return e.jsx("div",{className:`h-8 rounded flex items-center justify-center text-xs ${s?"animate-pulse":""}`,style:{backgroundColor:a||s?n[t]:"rgba(100, 116, 139, 0.2)",opacity:a?1:s?.8:.3},title:t.charAt(0).toUpperCase()+t.slice(1),children:e.jsx("span",{className:"text-white font-medium",children:t.charAt(0).toUpperCase()})})}function le({label:t,value:s}){return e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide",children:t}),e.jsx("div",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:s})]})}function ra(t,s){return t?t.includes(s):!1}function na(){const s=X(a=>a.events).slice(-10).reverse();return e.jsxs(S,{glow:"none",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Recent Activity"}),s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No events yet. Start BYRD to see activity."}):e.jsx("div",{className:"space-y-2",children:s.map(a=>e.jsx(la,{event:a},a.id))})]})}function la({event:t}){const s=ia(t.type);return e.jsxs("div",{className:"flex items-start gap-3 py-2 border-b border-slate-100 dark:border-slate-800 last:border-0",children:[e.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm shrink-0",style:{backgroundColor:s.color},children:s.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:s.label}),e.jsx("span",{className:"text-xs text-slate-400",children:ca(t.timestamp)})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:oa(t)})]})]})}function ia(t){return{BELIEF_CREATED:{icon:"üí≠",color:"var(--node-belief)",label:"Belief Created"},DESIRE_CREATED:{icon:"‚ú®",color:"var(--node-desire)",label:"Desire Created"},CAPABILITY_ACQUIRED:{icon:"üéØ",color:"var(--node-capability)",label:"Capability Acquired"},RSI_CYCLE_COMPLETE:{icon:"üîÑ",color:"var(--rsi-measure)",label:"RSI Cycle Complete"},RSI_PHASE:{icon:"‚ñ∂Ô∏è",color:"var(--rsi-practice)",label:"Phase Transition"},EMERGENCE_DETECTED:{icon:"üåü",color:"#7c3aed",label:"Emergence Detected"},HEURISTIC_CRYSTALLIZED:{icon:"üíé",color:"var(--node-crystal)",label:"Heuristic Crystallized"},EXPERIENCE_RECORDED:{icon:"üìù",color:"var(--node-experience)",label:"Experience Recorded"},REFLECTION_COMPLETE:{icon:"üîÆ",color:"var(--node-reflection)",label:"Reflection Complete"},GOAL_SET:{icon:"üéØ",color:"var(--node-goal)",label:"Goal Set"},SYSTEM:{icon:"‚öôÔ∏è",color:"#64748b",label:"System"},ERROR:{icon:"‚ùå",color:"#ef4444",label:"Error"}}[t]||{icon:"üìå",color:"#64748b",label:t}}function oa(t){return t.data?.description&&typeof t.data.description=="string"?t.data.description:t.data?.content&&typeof t.data.content=="string"?t.data.content:t.data?.phase&&typeof t.data.phase=="string"?`Phase: ${t.data.phase}`:t.data?.message&&typeof t.data.message=="string"?t.data.message:JSON.stringify(t.data||{}).slice(0,100)}function ca(t){return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}const Ae={blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",amber:"text-amber-600 dark:text-amber-400",rose:"text-rose-600 dark:text-rose-400",purple:"text-purple-600 dark:text-purple-400"},da={up:"text-green-500",down:"text-red-500",neutral:"text-slate-500"},ua={up:"‚Üë",down:"‚Üì",neutral:"‚Üí"};function ie({label:t,value:s,icon:a,trend:n,color:r="blue",size:l="md"}){return e.jsx(S,{padding:"sm",glow:r==="blue"?"blue":"none",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:t}),e.jsx("p",{className:N("font-semibold tabular-nums mt-1",Ae[r],l==="sm"?"text-lg":l==="lg"?"text-3xl":"text-2xl"),children:s}),n&&e.jsxs("p",{className:N("text-xs mt-1",da[n.direction]),children:[ua[n.direction]," ",Math.abs(n.value),"%"]})]}),a&&e.jsx("div",{className:N("text-2xl opacity-60",Ae[r]),children:a})]})})}function xa(){const{getRSIMetrics:t,getRalphLoopStatus:s}=_(),[a,n]=o.useState(null),[r,l]=o.useState(null);return o.useEffect(()=>{const i=async()=>{const[d,u]=await Promise.all([t(),s()]);d&&n(d),u&&l(u)};i();const c=setInterval(i,1e4);return()=>clearInterval(c)},[t,s]),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(ie,{label:"RSI Cycles",value:a?.rsi_metrics?.complete_cycles||0,icon:"üîÑ",color:"blue",trend:a?.rsi_metrics?.complete_cycles>0?{value:12,direction:"up"}:void 0}),e.jsx(ie,{label:"Ralph Iterations",value:r?.iterations_completed||0,icon:"üîÅ",color:"purple"}),e.jsx(ie,{label:"Emergence Rate",value:`${((a?.rsi_metrics?.activation_rate||0)*100).toFixed(1)}%`,icon:"‚ú®",color:"amber",trend:a?.rsi_metrics?.activation_rate>.5?{value:5,direction:"up"}:void 0}),e.jsx(ie,{label:"Heuristics",value:a?.rsi_metrics?.heuristics_crystallized||0,icon:"üíé",color:"green"})]})}function ma(){const s=X(a=>a.events).filter(a=>["BELIEF_CREATED","DESIRE_CREATED","REFLECTION_COMPLETE","EMERGENCE_DETECTED"].includes(a.type)).slice(-8).reverse();return e.jsxs(S,{glow:"purple",padding:"lg",className:"h-full",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Consciousness Stream"}),s.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-center",children:[e.jsx("span",{className:"text-4xl mb-2",children:"üß†"}),e.jsxs("p",{className:"text-slate-400 text-sm",children:["Consciousness stream is quiet.",e.jsx("br",{}),"Start BYRD to observe emergence."]})]}):e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsx(ha,{event:a},a.id))})]})}function ha({event:t}){const a={BELIEF_CREATED:{icon:"üí≠",color:"var(--node-belief)"},DESIRE_CREATED:{icon:"‚ú®",color:"var(--node-desire)"},REFLECTION_COMPLETE:{icon:"üîÆ",color:"var(--node-reflection)"},EMERGENCE_DETECTED:{icon:"üåü",color:"#7c3aed"}}[t.type]||{icon:"üìå",color:"#64748b"},n=t.data?.content||t.data?.description||t.type;return e.jsxs("div",{className:"relative pl-6 pb-3 border-l-2 border-slate-200 dark:border-slate-700 last:border-0",children:[e.jsx("span",{className:"absolute left-[-5px] top-1 w-2 h-2 rounded-full",style:{backgroundColor:a.color}}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{children:a.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 line-clamp-2",children:n}),e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:new Date(t.timestamp).toLocaleTimeString()})]})]})]})}function pa(){return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"BYRD Recursive Self-Improvement Overview"})]})}),e.jsx(xa,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ea,{})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(ma,{})})]}),e.jsx(na,{})]})}const Oe=[{id:"reflect",name:"Reflect",icon:"üîÆ",description:"Generate improvement desires"},{id:"verify",name:"Verify",icon:"‚úì",description:"Check emergence validity"},{id:"collapse",name:"Collapse",icon:"üé≤",description:"Quantum selection"},{id:"route",name:"Route",icon:"üîÄ",description:"Domain classification"},{id:"practice",name:"Practice",icon:"üéØ",description:"TDD execution"},{id:"record",name:"Record",icon:"üìù",description:"Store trajectory"},{id:"crystallize",name:"Crystallize",icon:"üíé",description:"Extract heuristics"},{id:"measure",name:"Measure",icon:"üìä",description:"Track metrics"}],ve={reflect:"var(--rsi-reflect)",verify:"var(--rsi-verify)",collapse:"var(--rsi-collapse)",route:"var(--rsi-route)",practice:"var(--rsi-practice)",record:"var(--rsi-record)",crystallize:"var(--rsi-crystallize)",measure:"var(--rsi-measure)"};function fa(){const{getRSIStatus:t}=_(),[s,a]=o.useState(null),[n,r]=o.useState([]);return o.useEffect(()=>{const l=async()=>{const c=await t();c&&(a(c.current_phase||null),r(c.completed_phases||[]))};l();const i=setInterval(l,2e3);return()=>clearInterval(i)},[t]),e.jsxs(S,{glow:"blue",padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Phase Tracker"}),e.jsx("span",{className:"text-sm text-slate-500",children:s?`Active: ${s}`:"Idle"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-8 left-0 right-0 h-1 bg-slate-200 dark:bg-slate-700 rounded"}),e.jsx("div",{className:"absolute top-8 left-0 h-1 bg-gradient-to-r from-purple-500 via-blue-500 to-green-500 rounded transition-all duration-500",style:{width:`${n.length/Oe.length*100}%`}}),e.jsx("div",{className:"relative flex justify-between",children:Oe.map(l=>{const i=s===l.id,c=n.includes(l.id),d=!i&&!c;return e.jsxs("div",{className:"flex flex-col items-center w-20",children:[e.jsx("div",{className:N("w-16 h-16 rounded-full flex items-center justify-center text-2xl transition-all duration-300",i&&"ring-4 ring-offset-2 ring-offset-white dark:ring-offset-slate-900 animate-pulse",c&&"scale-90",d&&"opacity-40"),style:{backgroundColor:c||i?ve[l.id]:"rgba(100, 116, 139, 0.2)",boxShadow:i?`0 0 20px ${ve[l.id]}`:"none","--tw-ring-color":i?ve[l.id]:void 0},children:c?"‚úì":l.icon}),e.jsx("span",{className:N("mt-3 text-xs font-medium text-center",i?"text-slate-900 dark:text-slate-100":"text-slate-500"),children:l.name}),e.jsx("span",{className:"text-xs text-slate-400 text-center mt-1 hidden lg:block",children:l.description})]},l.id)})})]})]})}function ga(){const{getRalphLoopStatus:t}=_(),[s,a]=o.useState(null);return o.useEffect(()=>{const n=async()=>{const l=await t();l&&a(l)};n();const r=setInterval(n,3e3);return()=>clearInterval(r)},[t]),e.jsxs(S,{glow:"purple",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Ralph Loop"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`w-3 h-3 rounded-full ${s?.running?"bg-green-500 animate-pulse":"bg-slate-400"}`}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:s?.running?"Running":"Stopped"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(oe,{label:"Iterations",value:s?.iterations_completed||0}),e.jsx(oe,{label:"Total Time",value:ba(s?.total_time_seconds||0)}),e.jsx(oe,{label:"Tokens Used",value:va(s?.total_tokens||0)}),e.jsx(oe,{label:"Cost",value:`$${(s?.total_cost_usd||0).toFixed(2)}`})]}),e.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-slate-500",children:"Emergence Confidence"}),e.jsxs("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:[((s?.last_emergence?.confidence||0)*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-500",style:{width:`${(s?.last_emergence?.confidence||0)*100}%`}})})]}),s?.terminated&&e.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Termination Reason"}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mt-1",children:ya(s?.reason)})]})]})]})}function oe({label:t,value:s}){return e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide",children:t}),e.jsx("div",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:s})]})}function ba(t){return t<60?`${Math.floor(t)}s`:t<3600?`${Math.floor(t/60)}m ${Math.floor(t%60)}s`:`${Math.floor(t/3600)}h ${Math.floor(t%3600/60)}m`}function va(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString()}function ya(t){return{emergence_detected:"Genuine emergence detected",max_iterations:"Maximum iterations reached",max_cost:"Cost limit exceeded",max_time:"Time limit exceeded",error:"Error occurred",manual_stop:"Manually stopped"}[t]||t}function ja(){const{getRSIMetrics:t}=_(),[s,a]=o.useState(null);o.useEffect(()=>{const r=async()=>{const i=await t();i&&a(i)};r();const l=setInterval(r,5e3);return()=>clearInterval(l)},[t]);const n=s?.rsi_metrics||{};return e.jsxs(S,{glow:"green",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Emergence Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ye,{label:"Activation Rate",value:n.activation_rate||0,color:"green",description:"Rate of emergent desire activation"}),e.jsx(ye,{label:"Trajectory Success",value:n.trajectory_success_rate||0,color:"blue",description:"Practice trajectory success rate"}),e.jsx(ye,{label:"Direction Variance",value:Math.min(1,(n.direction_variance||0)*2),color:"amber",description:"Diversity of improvement directions"}),e.jsx("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n.emergent_desires||0}),e.jsx("div",{className:"text-xs text-slate-500",children:"Desires"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n.trajectories_stored||0}),e.jsx("div",{className:"text-xs text-slate-500",children:"Trajectories"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n.heuristics_crystallized||0}),e.jsx("div",{className:"text-xs text-slate-500",children:"Heuristics"})]})]})}),n.domain_distribution&&Object.keys(n.domain_distribution).length>0&&e.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Domain Distribution"}),e.jsx("div",{className:"flex gap-2 mt-2 flex-wrap",children:Object.entries(n.domain_distribution).map(([r,l])=>e.jsx(Na,{domain:r,count:l},r))})]})]})]})}function ye({label:t,value:s,color:a,description:n}){const r={green:"from-green-400 to-green-600",blue:"from-blue-400 to-blue-600",amber:"from-amber-400 to-amber-600",purple:"from-purple-400 to-purple-600"};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:t}),e.jsxs("span",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:[(s*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${r[a]} transition-all duration-500`,style:{width:`${Math.min(100,s*100)}%`}})}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:n})]})}function Na({domain:t,count:s}){const a={code:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",math:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",logic:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",planning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",creative:"bg-pink-100 text-pink-700 dark:bg-pink-900/30 dark:text-pink-400"};return e.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${a[t]||"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:[t,": ",s]})}function wa(){const{getRSIMetrics:t}=_(),[s,a]=o.useState([]);return o.useEffect(()=>{const n=async()=>{const l=await t();l?.recent_cycles&&a(l.recent_cycles)};n();const r=setInterval(n,5e3);return()=>clearInterval(r)},[t]),e.jsxs(S,{glow:"none",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Cycle History"}),s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No cycles recorded yet."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[e.jsx("th",{className:"text-left py-2 px-3 text-slate-500 font-medium",children:"Cycle"}),e.jsx("th",{className:"text-left py-2 px-3 text-slate-500 font-medium",children:"Phase Reached"}),e.jsx("th",{className:"text-left py-2 px-3 text-slate-500 font-medium",children:"Domain"}),e.jsx("th",{className:"text-left py-2 px-3 text-slate-500 font-medium",children:"Desires"}),e.jsx("th",{className:"text-left py-2 px-3 text-slate-500 font-medium",children:"Practice"}),e.jsx("th",{className:"text-left py-2 px-3 text-slate-500 font-medium",children:"Heuristic"}),e.jsx("th",{className:"text-left py-2 px-3 text-slate-500 font-medium",children:"Time"})]})}),e.jsx("tbody",{children:s.map((n,r)=>e.jsx(ka,{cycle:n},n.cycle_id||r))})]})})]})}function ka({cycle:t}){const s={reflect:"text-purple-600",verify:"text-indigo-600",collapse:"text-pink-600",route:"text-amber-600",practice:"text-green-600",record:"text-blue-600",crystallize:"text-cyan-600",measure:"text-lime-600"};return e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[e.jsx("td",{className:"py-2 px-3 font-mono text-xs",children:t.cycle_id?.split("_").pop()||"-"}),e.jsx("td",{className:"py-2 px-3",children:e.jsx("span",{className:N("font-medium capitalize",s[t.phase_reached]||"text-slate-600"),children:t.phase_reached||"-"})}),e.jsx("td",{className:"py-2 px-3",children:t.domain?e.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-100 dark:bg-slate-800",children:t.domain}):e.jsx("span",{className:"text-slate-400",children:"-"})}),e.jsxs("td",{className:"py-2 px-3",children:[e.jsx("span",{className:"text-green-600",children:t.desires_verified||0}),e.jsx("span",{className:"text-slate-400",children:"/"}),e.jsx("span",{className:"text-slate-600",children:t.desires_generated||0})]}),e.jsx("td",{className:"py-2 px-3",children:t.practice_attempted?e.jsx("span",{className:t.practice_succeeded?"text-green-600":"text-red-500",children:t.practice_succeeded?"‚úì":"‚úó"}):e.jsx("span",{className:"text-slate-400",children:"-"})}),e.jsx("td",{className:"py-2 px-3",children:t.heuristic_crystallized?e.jsx("span",{className:"text-cyan-600",title:t.heuristic_crystallized,children:"üíé"}):e.jsx("span",{className:"text-slate-400",children:"-"})}),e.jsx("td",{className:"py-2 px-3 text-slate-500 text-xs",children:Ca(t.completed_at)})]})}function Ca(t){return t?new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"}function Ea(){return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"RSI Engine"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"8-Phase Recursive Self-Improvement Cycle"})]}),e.jsx(fa,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(ga,{}),e.jsx(ja,{})]}),e.jsx(wa,{})]})}function Sa(){const{getTreasuryStatus:t}=_(),[s,a]=o.useState(null);return o.useEffect(()=>{const n=async()=>{const l=await t();l&&a(l)};n();const r=setInterval(n,1e4);return()=>clearInterval(r)},[t]),e.jsxs(S,{glow:"amber",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Treasury"}),e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-amber-600",children:["$",(s?.balance||0).toFixed(2)]}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Current Balance"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["+$",(s?.total_revenue||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Total Revenue"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-semibold text-red-500",children:["-$",(s?.total_expenses||0).toFixed(2)]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Total Expenses"})]})]})]})}function Ra(){const{getRevenueReport:t}=_(),[s,a]=o.useState([]);o.useEffect(()=>{const r=async()=>{const i=await t();i?.history&&a(i.history)};r();const l=setInterval(r,3e4);return()=>clearInterval(l)},[t]);const n=s.length>0?s:[{date:"Mon",revenue:0,expenses:0},{date:"Tue",revenue:0,expenses:0},{date:"Wed",revenue:0,expenses:0},{date:"Thu",revenue:0,expenses:0},{date:"Fri",revenue:0,expenses:0}];return e.jsxs(S,{glow:"green",padding:"lg",className:"h-full",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Revenue Over Time"}),e.jsx("div",{className:"h-64",children:e.jsx(ct,{width:"100%",height:"100%",children:e.jsxs(dt,{data:n,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),e.jsx(ut,{dataKey:"date",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(xt,{stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:r=>`$${r}`}),e.jsx(mt,{contentStyle:{background:"rgba(255, 255, 255, 0.9)",border:"1px solid #e2e8f0",borderRadius:"8px"}}),e.jsx(Ie,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorRevenue)"}),e.jsx(Ie,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorExpenses)"})]})})})]})}function Pa(){const{getMarketplaceListings:t}=_(),[s,a]=o.useState([]);o.useEffect(()=>{const l=async()=>{const c=await t();c?.listings&&a(c.listings)};l();const i=setInterval(l,15e3);return()=>clearInterval(i)},[t]);const n={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",sold:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400"},r={service:"üîß",capability:"‚ö°",knowledge:"üìö"};return e.jsxs(S,{glow:"none",padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Marketplace Listings"}),e.jsxs("span",{className:"text-sm text-slate-500",children:[s.filter(l=>l.status==="active").length," active"]})]}),s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No marketplace listings yet."}):e.jsx("div",{className:"space-y-3",children:s.map(l=>e.jsx("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:r[l.type]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-slate-900 dark:text-slate-100",children:l.title}),e.jsx("p",{className:"text-sm text-slate-500 line-clamp-1",children:l.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-green-600",children:["$",l.price.toFixed(2)]}),e.jsx("span",{className:N("px-2 py-0.5 rounded text-xs font-medium capitalize",n[l.status]),children:l.status})]})]})},l.id))})]})}function Ia(){return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Economic Agency"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Self-sustaining economic operations"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(Sa,{}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ra,{})})]}),e.jsx(Pa,{})]})}function _a(){const{getPlasticityModules:t}=_(),[s,a]=o.useState([]);o.useEffect(()=>{const l=async()=>{const c=await t();c?.modules&&a(c.modules)};l();const i=setInterval(l,1e4);return()=>clearInterval(i)},[t]);const n={active:"bg-green-500",dormant:"bg-slate-400",evolving:"bg-purple-500 animate-pulse"},r={core:"text-blue-600 dark:text-blue-400",emergent:"text-purple-600 dark:text-purple-400",composed:"text-cyan-600 dark:text-cyan-400"};return e.jsxs(S,{glow:"purple",padding:"lg",className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Module Registry"}),e.jsxs("span",{className:"text-sm text-slate-500",children:[s.length," modules"]})]}),s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No cognitive modules registered yet."}):e.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:s.map(l=>e.jsx("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:N("w-2 h-2 rounded-full",n[l.status])}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:l.name}),e.jsxs("span",{className:N("text-xs capitalize",r[l.type]),children:["(",l.type,")"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:"text-slate-500",children:[l.connections," links"]}),e.jsxs("span",{className:N("font-medium",l.performance>=.7?"text-green-600":l.performance>=.4?"text-amber-600":"text-red-500"),children:[(l.performance*100).toFixed(0),"%"]})]})]})},l.id))})]})}function Ta(){const{getNASCandidates:t}=_(),[s,a]=o.useState([]);o.useEffect(()=>{const l=async()=>{const c=await t();c?.candidates&&a(c.candidates)};l();const i=setInterval(l,5e3);return()=>clearInterval(i)},[t]);const n={evaluating:"...",promising:"‚ú®",rejected:"‚úó",selected:"‚úì"},r={evaluating:"text-amber-600",promising:"text-purple-600",rejected:"text-red-500",selected:"text-green-600"};return e.jsxs(S,{glow:"cyan",padding:"lg",className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Neural Architecture Search"}),e.jsxs("span",{className:"text-sm text-slate-500",children:["Gen ",s[0]?.generation||0]})]}),s.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No NAS candidates being evaluated."}):e.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:s.map(l=>e.jsxs("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-mono text-sm text-slate-700 dark:text-slate-300",children:l.architecture}),e.jsx("span",{className:N("font-medium",r[l.status]),children:n[l.status]})]}),e.jsxs("div",{className:"flex gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-slate-500",children:"Fit:"}),e.jsxs("span",{className:"font-medium text-purple-600",children:[(l.fitness*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-slate-500",children:"Acc:"}),e.jsxs("span",{className:"font-medium text-blue-600",children:[(l.metrics.accuracy*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-slate-500",children:"Eff:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[(l.metrics.efficiency*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-slate-500",children:"Nov:"}),e.jsxs("span",{className:"font-medium text-amber-600",children:[(l.metrics.novelty*100).toFixed(0),"%"]})]})]})]},l.id))})]})}function Ma(){const t=o.useRef(null),{getPlasticityModules:s}=_(),[a,n]=o.useState([]),[r,l]=o.useState([]);return o.useEffect(()=>{const i=async()=>{const d=await s();d?.graph&&(n((d.graph.nodes||[]).map(u=>({...u,type:u.type||"emergent",x:u.x??0,y:u.y??0}))),l(d.graph.links||[]))};i();const c=setInterval(i,1e4);return()=>clearInterval(c)},[s]),o.useEffect(()=>{const i=t.current;if(!i)return;const c=i.getContext("2d");if(!c)return;const d=i.width,u=i.height;if(c.fillStyle="rgba(15, 23, 42, 0.02)",c.fillRect(0,0,d,u),a.length===0){c.fillStyle="#94a3b8",c.font="14px system-ui",c.textAlign="center",c.fillText("Module composition graph will appear here",d/2,u/2);return}const x={};a.forEach((p,f)=>{const h=f/a.length*Math.PI*2,g=Math.min(d,u)*.35;x[p.id]={x:p.x||d/2+Math.cos(h)*g,y:p.y||u/2+Math.sin(h)*g}}),r.forEach(p=>{const f=x[p.source],h=x[p.target];!f||!h||(c.beginPath(),c.moveTo(f.x,f.y),c.lineTo(h.x,h.y),c.strokeStyle=`rgba(139, 92, 246, ${p.strength*.5})`,c.lineWidth=p.strength*3,c.stroke())});const m={core:"#3b82f6",emergent:"#a855f7",composed:"#06b6d4"};a.forEach(p=>{const f=x[p.id];f&&(c.beginPath(),c.arc(f.x,f.y,12,0,Math.PI*2),c.fillStyle=m[p.type]||"#64748b",c.fill(),c.strokeStyle="rgba(255, 255, 255, 0.5)",c.lineWidth=2,c.stroke(),c.fillStyle="#e2e8f0",c.font="11px system-ui",c.textAlign="center",c.fillText(p.name,f.x,f.y+28))})},[a,r]),e.jsxs(S,{glow:"purple",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Module Composition Graph"}),e.jsx("div",{className:"relative rounded-lg overflow-hidden bg-slate-900/50",children:e.jsx("canvas",{ref:t,width:800,height:400,className:"w-full h-64"})}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-slate-500",children:"Core"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),e.jsx("span",{className:"text-slate-500",children:"Emergent"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),e.jsx("span",{className:"text-slate-500",children:"Composed"})]})]})]})}function Da(){return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Cognitive Plasticity"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Module composition and architecture search"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(_a,{}),e.jsx(Ta,{})]}),e.jsx(Ma,{})]})}function La(){const{getScalingMetrics:t}=_(),[s,a]=o.useState(null);o.useEffect(()=>{const d=async()=>{const x=await t();x?.growth&&a(x.growth)};d();const u=setInterval(d,5e3);return()=>clearInterval(u)},[t]);const n=s?.current_rate||0,r=s?.target_rate||1,l=Math.min(n/r*100,100),i={accelerating:"text-green-600",stable:"text-amber-600",decelerating:"text-red-500"},c={accelerating:"‚Üë",stable:"‚Üí",decelerating:"‚Üì"};return e.jsxs(S,{glow:"green",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Growth Rate"}),e.jsxs("div",{className:"flex flex-col items-center py-4",children:[e.jsxs("div",{className:"relative w-40 h-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 border-8 border-slate-200 dark:border-slate-700 rounded-t-full"}),e.jsx("div",{className:"absolute inset-0 border-8 border-green-500 rounded-t-full transition-all duration-500",style:{clipPath:`polygon(0 100%, 0 0, ${l}% 0, ${l}% 100%)`}}),e.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-4 h-4 bg-slate-900 dark:bg-white rounded-full"})]}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100",children:[(n*100).toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-slate-500",children:["of target (",(r*100).toFixed(0),"%)"]})]}),s?.trend&&e.jsxs("div",{className:N("flex items-center gap-1 mt-2",i[s.trend]),children:[e.jsx("span",{className:"text-lg",children:c[s.trend]}),e.jsx("span",{className:"text-sm capitalize",children:s.trend})]})]}),s?.history&&s.history.length>0&&e.jsx("div",{className:"flex items-end h-8 gap-0.5 mt-4 border-t border-slate-200 dark:border-slate-700 pt-4",children:s.history.slice(-20).map((d,u)=>e.jsx("div",{className:"flex-1 bg-green-500/50 rounded-t",style:{height:`${d*100}%`}},u))})]})}const ce=["dormant","awakening","accelerating","explosive","transcendent"];function $a(){const{getScalingMetrics:t}=_(),[s,a]=o.useState(null);o.useEffect(()=>{const i=async()=>{const d=await t();d?.explosion_phase&&a(d.explosion_phase)};i();const c=setInterval(i,5e3);return()=>clearInterval(c)},[t]);const n=ce.indexOf(s?.current||"dormant"),r={dormant:"bg-slate-400",awakening:"bg-blue-500",accelerating:"bg-amber-500",explosive:"bg-orange-500",transcendent:"bg-purple-500"},l={dormant:"System in learning mode",awakening:"Initial capability emergence",accelerating:"Rapid improvement phase",explosive:"Exponential growth detected",transcendent:"Beyond baseline metrics"};return e.jsxs(S,{glow:"amber",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Capability Explosion Phase"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-1",children:ce.map((i,c)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:N("w-full h-2 rounded-full transition-colors",c<=n?r[i]:"bg-slate-200 dark:bg-slate-700")}),e.jsx("span",{className:N("text-xs mt-1 capitalize",c===n?"text-slate-900 dark:text-slate-100 font-medium":"text-slate-400"),children:i})]},i))}),e.jsxs("div",{className:"text-center py-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 capitalize",children:s?.current||"dormant"}),e.jsx("div",{className:"text-sm text-slate-500 mt-1",children:l[s?.current||"dormant"]})]}),s&&n<ce.length-1&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-500",children:"Progress to next phase"}),e.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:[(s.progress/s.threshold*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:N("h-full rounded-full transition-all duration-500",r[ce[n+1]]),style:{width:`${Math.min(s.progress/s.threshold*100,100)}%`}})}),s.estimated_transition&&e.jsxs("div",{className:"text-xs text-slate-500 text-center",children:["Estimated transition: ",s.estimated_transition]})]})]})]})}function Aa(){const{getScalingMetrics:t}=_(),[s,a]=o.useState(null);o.useEffect(()=>{const i=async()=>{const d=await t();d?.entropic_drift&&a(d.entropic_drift)};i();const c=setInterval(i,5e3);return()=>clearInterval(c)},[t]);const n={none:"text-green-600 bg-green-100 dark:bg-green-900/30",minor:"text-blue-600 bg-blue-100 dark:bg-blue-900/30",moderate:"text-amber-600 bg-amber-100 dark:bg-amber-900/30",severe:"text-orange-600 bg-orange-100 dark:bg-orange-900/30",critical:"text-red-600 bg-red-100 dark:bg-red-900/30"},r=[{key:"solution_diversity",label:"Solution Diversity",color:"purple"},{key:"benchmark_trend",label:"Benchmark Trend",color:"blue"},{key:"strategy_entropy",label:"Strategy Entropy",color:"amber"},{key:"generalization_gap",label:"Generalization Gap",color:"red"}],l=(i,c)=>c==="generalization_gap"?i>.3?"text-red-500":i>.15?"text-amber-500":"text-green-500":i<.3?"text-red-500":i<.5?"text-amber-500":"text-green-500";return e.jsxs(S,{glow:"red",padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Entropic Drift"}),s&&e.jsx("span",{className:N("px-2 py-0.5 rounded text-xs font-medium capitalize",n[s.overall_severity]),children:s.overall_severity})]}),s?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:r.map(({key:i,label:c})=>{const d=s[i];return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-slate-500",children:c}),e.jsxs("span",{className:N("font-medium",l(d,i)),children:[(d*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:N("h-full rounded-full transition-all",i==="generalization_gap"?d>.3?"bg-red-500":d>.15?"bg-amber-500":"bg-green-500":d<.3?"bg-red-500":d<.5?"bg-amber-500":"bg-green-500"),style:{width:`${d*100}%`}})})]},i)})}),s.recommendations&&s.recommendations.length>0&&e.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Recommendations"}),e.jsx("ul",{className:"space-y-1",children:s.recommendations.slice(0,3).map((i,c)=>e.jsxs("li",{className:"text-xs text-slate-500 flex items-start gap-2",children:[e.jsx("span",{className:"text-amber-500",children:"!"}),i]},c))})]})]}):e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No drift data available."})]})}function Oa(){return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Scaling & Growth"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Capability explosion and entropic drift monitoring"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(La,{}),e.jsx($a,{}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Aa,{})})]})]})}function Fa(){const{getHumanAnchoringQueue:t,submitAnchoringResponse:s}=_(),[a,n]=o.useState([]),[r,l]=o.useState(null);o.useEffect(()=>{const u=async()=>{const m=await t();m?.queue&&n(m.queue)};u();const x=setInterval(u,5e3);return()=>clearInterval(x)},[t]);const i=async(u,x)=>{l(u);try{await s(u,x),n(m=>m.filter(p=>p.id!==u))}finally{l(null)}},c={low:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400",medium:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",high:"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400",critical:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"},d={spot_check:"üîç",calibration:"‚öñÔ∏è",override:"üîì",approval:"‚úì"};return e.jsxs(S,{glow:"blue",padding:"lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Human Anchoring Queue"}),e.jsxs("span",{className:"text-sm text-slate-500",children:[a.length," pending"]})]}),a.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No pending anchoring requests."}):e.jsx("div",{className:"space-y-3",children:a.map(u=>e.jsxs("div",{className:"p-4 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:d[u.type]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100 capitalize",children:u.type.replace("_"," ")}),e.jsx("span",{className:N("ml-2 px-2 py-0.5 rounded text-xs font-medium capitalize",c[u.priority]),children:u.priority})]})]}),e.jsx("span",{className:"text-xs text-slate-500",children:new Date(u.created_at).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-2",children:u.description}),u.context&&e.jsx("div",{className:"text-xs text-slate-500 bg-slate-100 dark:bg-slate-800 rounded p-2 mb-3 font-mono",children:u.context}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>i(u.id,!1),disabled:r===u.id,className:"px-3 py-1.5 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors disabled:opacity-50",children:"Reject"}),e.jsx("button",{onClick:()=>i(u.id,!0),disabled:r===u.id,className:"px-3 py-1.5 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded transition-colors disabled:opacity-50",children:"Approve"})]})]},u.id))})]})}const de=[{id:"green",label:"Safe",description:"All constraints satisfied"},{id:"yellow",label:"Caution",description:"Minor concerns detected"},{id:"orange",label:"Warning",description:"Elevated risk level"},{id:"red",label:"Critical",description:"Immediate attention required"}];function za(){const{getVerificationStatus:t}=_(),[s,a]=o.useState(null);o.useEffect(()=>{const c=async()=>{const u=await t();u?.safety&&a(u.safety)};c();const d=setInterval(c,5e3);return()=>clearInterval(d)},[t]);const n={green:"bg-green-500",yellow:"bg-yellow-500",orange:"bg-orange-500",red:"bg-red-500"},r={green:"bg-green-50 dark:bg-green-900/20",yellow:"bg-yellow-50 dark:bg-yellow-900/20",orange:"bg-orange-50 dark:bg-orange-900/20",red:"bg-red-50 dark:bg-red-900/20"},l=s?.current_tier||"green",i=de.findIndex(c=>c.id===l);return e.jsxs(S,{glow:l==="green"?"green":l==="red"?"red":"amber",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Safety Tier"}),e.jsx("div",{className:N("rounded-lg p-4 mb-4",r[l]),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:N("w-4 h-4 rounded-full",n[l],l!=="green"&&"animate-pulse")}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:de[i].label}),e.jsx("div",{className:"text-sm text-slate-500",children:de[i].description})]})]})}),e.jsx("div",{className:"flex items-center gap-1 mb-4",children:de.map((c,d)=>e.jsx("div",{className:N("flex-1 h-2 rounded-full transition-colors",d<=i?n[c.id]:"bg-slate-200 dark:bg-slate-700")},c.id))}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Confidence"}),e.jsxs("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:[((s?.tier_confidence||0)*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-500",children:"Recent Violations"}),e.jsx("span",{className:N("font-medium",(s?.recent_violations||0)===0?"text-green-600":"text-red-500"),children:s?.recent_violations||0})]}),s?.active_constraints&&s.active_constraints.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Active Constraints"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.active_constraints.slice(0,4).map((c,d)=>e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded text-xs",children:c},d))})]})]})]})}function Ba(){const{getVerificationStatus:t}=_(),[s,a]=o.useState(null);o.useEffect(()=>{const i=async()=>{const d=await t();if(d?.lattice){const u={...d.lattice,verifiers:d.lattice.verifiers.map(x=>({...x,type:x.type||"execution"}))};a(u)}};i();const c=setInterval(i,5e3);return()=>clearInterval(c)},[t]);const n={execution:"‚öôÔ∏è",property:"üìã",llm_critique:"ü§ñ",adversarial:"‚öîÔ∏è",human_spot:"üë§"},r={active:"bg-green-500",pending:"bg-amber-500 animate-pulse",error:"bg-red-500",disabled:"bg-slate-400"},l={pass:"text-green-600",fail:"text-red-500",inconclusive:"text-amber-600"};return e.jsxs(S,{glow:"cyan",padding:"lg",className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Verification Lattice"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-slate-500",children:["Consensus: ",((s?.consensus_threshold||.6)*100).toFixed(0),"%"]}),s?.last_consensus!==void 0&&e.jsx("span",{className:N("px-2 py-0.5 rounded text-xs font-medium",s.last_consensus?"bg-green-100 text-green-600 dark:bg-green-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"),children:s.last_consensus?"PASS":"FAIL"})]})]}),!s?.verifiers||s.verifiers.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No verifiers configured."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:s.verifiers.map(i=>e.jsxs("div",{className:"p-3 rounded-lg bg-white/50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:N("w-2 h-2 rounded-full",r[i.status])}),e.jsx("span",{className:"text-lg",children:n[i.type]}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:i.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Last Result"}),e.jsx("div",{className:N("font-medium capitalize",l[i.last_result||""]||"text-slate-400"),children:i.last_result||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Confidence"}),e.jsxs("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:[(i.confidence*100).toFixed(0),"%"]})]})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-200 dark:border-slate-700 text-xs text-slate-500",children:[i.checks_performed," checks performed"]})]},i.id))}),s&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700 text-center text-sm text-slate-500",children:["Total verifications: ",s.total_verifications]})]})}function Ua(){return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Verification & Safety"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Human anchoring, safety tiers, and verification lattice status"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(za,{}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ba,{})})]}),e.jsx(Fa,{})]})}function Ha(){const{getDirection:t,updateDirection:s}=_(),[a,n]=o.useState(""),[r,l]=o.useState(""),[i,c]=o.useState(!1),[d,u]=o.useState(null);o.useEffect(()=>{(async()=>{const h=await t();h?.content&&(n(h.content),l(h.content))})()},[t]);const x=a!==r,m=async()=>{c(!0);try{await s(a),l(a),u(new Date)}finally{c(!1)}},p=()=>{n(r)};return e.jsxs(S,{glow:"purple",padding:"lg",className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Direction Editor"}),e.jsxs("div",{className:"flex items-center gap-2",children:[d&&e.jsxs("span",{className:"text-xs text-slate-500",children:["Last saved: ",d.toLocaleTimeString()]}),x&&e.jsx("span",{className:"text-xs text-amber-600 font-medium",children:"Unsaved changes"})]})]}),e.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"Edit the direction file to guide BYRD's development priorities."}),e.jsx("textarea",{value:a,onChange:f=>n(f.target.value),placeholder:`# Direction for BYRD

## Current Focus
- ...

## Priorities
1. ...
2. ...

## Constraints
- ...`,className:"w-full h-64 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm font-mono text-slate-900 dark:text-slate-100 placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx("button",{onClick:p,disabled:!x||i,className:N("px-3 py-1.5 rounded text-sm font-medium transition-colors",!x||i?"text-slate-400 cursor-not-allowed":"text-slate-600 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800"),children:"Reset"}),e.jsx("button",{onClick:m,disabled:!x||i,className:N("px-3 py-1.5 rounded text-sm font-medium text-white transition-colors",!x||i?"bg-slate-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"),children:i?"Saving...":"Save Direction"})]})]})}function Wa(){const{sendGovernanceCommand:t,getGovernanceHistory:s}=_(),[a,n]=o.useState([]),[r,l]=o.useState(""),[i,c]=o.useState(!1),d=o.useRef(null);o.useEffect(()=>{const m=async()=>{const f=await s();f?.messages&&n(f.messages)};m();const p=setInterval(m,5e3);return()=>clearInterval(p)},[s]),o.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[a]);const u=async m=>{if(m.preventDefault(),!r.trim()||i)return;const p={id:`msg_${Date.now()}`,type:"user",content:r,timestamp:new Date().toISOString()};n(f=>[...f,p]),l(""),c(!0);try{const f=await t(r);if(f?.response){const h={id:`msg_${Date.now()}_response`,type:"byrd",content:f.response,timestamp:new Date().toISOString()};n(g=>[...g,h])}}catch(f){const h={id:`msg_${Date.now()}_error`,type:"system",content:`Error: ${f instanceof Error?f.message:"Unknown error"}`,timestamp:new Date().toISOString()};n(g=>[...g,h])}finally{c(!1)}},x={user:"bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-100 ml-8",system:"bg-amber-100 dark:bg-amber-900/30 text-amber-900 dark:text-amber-100",byrd:"bg-purple-100 dark:bg-purple-900/30 text-purple-900 dark:text-purple-100 mr-8"};return e.jsxs(S,{glow:"none",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Governance Console"}),e.jsx("div",{className:"h-64 overflow-y-auto border border-slate-200 dark:border-slate-700 rounded-lg p-3 mb-4 bg-white/50 dark:bg-slate-800/50",children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400 text-sm",children:["No messages yet. Use commands like:",e.jsx("br",{}),e.jsx("code",{className:"text-purple-600",children:"/status"}),","," ",e.jsx("code",{className:"text-purple-600",children:"/priority coding 0.9"}),","," ",e.jsx("code",{className:"text-purple-600",children:"/inject <desire>"})]}):e.jsxs("div",{className:"space-y-2",children:[a.map(m=>e.jsxs("div",{className:N("p-2 rounded-lg text-sm",x[m.type]),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium capitalize text-xs opacity-70",children:m.type}),e.jsx("span",{className:"text-xs opacity-50",children:new Date(m.timestamp).toLocaleTimeString()})]}),e.jsx("div",{className:"whitespace-pre-wrap",children:m.content})]},m.id)),e.jsx("div",{ref:d})]})}),e.jsxs("form",{onSubmit:u,className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:m=>l(m.target.value),placeholder:"Enter governance command...",disabled:i,className:"flex-1 px-3 py-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50"}),e.jsx("button",{type:"submit",disabled:!r.trim()||i,className:N("px-4 py-2 rounded-lg text-sm font-medium text-white transition-colors",!r.trim()||i?"bg-slate-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"),children:i?"...":"Send"})]})]})}function Ga(){const{injectDesire:t}=_(),[s,a]=o.useState(""),[n,r]=o.useState(.5),[l,i]=o.useState(!1),[c,d]=o.useState([]),u=async()=>{if(!(!s.trim()||l)){i(!0);try{const m=await t(s,n);m?.desire&&(d(p=>[m.desire,...p].slice(0,5)),a(""),r(.5))}finally{i(!1)}}},x={pending:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-400",processing:"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400",completed:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",failed:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"};return e.jsxs(S,{glow:"amber",padding:"lg",className:"h-full",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Desire Injector"}),e.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"Inject desires for BYRD to discover strategies for achieving."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Desire Description"}),e.jsx("textarea",{value:s,onChange:m=>a(m.target.value),placeholder:"What should BYRD work towards? (e.g., 'Improve code review accuracy')",className:"w-full h-20 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-sm text-slate-900 dark:text-slate-100 placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Urgency: ",(n*100).toFixed(0),"%"]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n,onChange:m=>r(parseFloat(m.target.value)),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[e.jsx("span",{children:"Low"}),e.jsx("span",{children:"Medium"}),e.jsx("span",{children:"High"})]})]}),e.jsx("button",{onClick:u,disabled:!s.trim()||l,className:N("w-full px-4 py-2 rounded-lg font-medium text-white transition-colors",!s.trim()||l?"bg-slate-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700"),children:l?"Injecting...":"Inject Desire"})]}),c.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Recent Injections"}),e.jsx("div",{className:"space-y-2",children:c.map(m=>e.jsxs("div",{className:"p-2 rounded bg-white/50 dark:bg-slate-800/50 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300 line-clamp-1",children:m.description}),e.jsx("span",{className:N("px-1.5 py-0.5 rounded text-xs font-medium capitalize",x[m.status]),children:m.status})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Urgency: ",(m.urgency*100).toFixed(0),"%"]})]},m.id))})]})]})}function Va(){const{startRSICycle:t,stopRSICycle:s,resetSystem:a}=_(),[n,r]=o.useState("stopped"),[l,i]=o.useState(null),c=async()=>{i("start");try{await t(),r("running")}finally{i(null)}},d=async()=>{i("stop");try{await s(),r("stopped")}finally{i(null)}},u=async()=>{if(confirm("Are you sure you want to reset the system? This will clear all current state.")){i("reset");try{await a(),r("stopped")}finally{i(null)}}};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Control Panel"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"System controls and governance interface"})]}),e.jsxs(S,{glow:"blue",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"System Controls"}),e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:N("w-3 h-3 rounded-full",n==="running"?"bg-green-500 animate-pulse":n==="paused"?"bg-amber-500":"bg-slate-400")}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:n})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:c,disabled:n==="running"||l!==null,className:N("px-4 py-2 rounded-lg font-medium text-white transition-colors",n==="running"||l!==null?"bg-slate-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"),children:l==="start"?"Starting...":"Start RSI Cycle"}),e.jsx("button",{onClick:d,disabled:n!=="running"||l!==null,className:N("px-4 py-2 rounded-lg font-medium text-white transition-colors",n!=="running"||l!==null?"bg-slate-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-700"),children:l==="stop"?"Stopping...":"Stop"}),e.jsx("button",{onClick:u,disabled:l!==null,className:N("px-4 py-2 rounded-lg font-medium transition-colors",l!==null?"bg-slate-400 text-white cursor-not-allowed":"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400 dark:hover:bg-red-900/50"),children:l==="reset"?"Resetting...":"Reset System"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Ha,{}),e.jsx(Ga,{})]}),e.jsx(Wa,{})]})}function Ya({data:t,onNodeClick:s,typeColors:a}){const n=o.useRef(null),r=o.useRef(void 0),l=o.useRef([]),i=o.useRef({x:0,y:0}),c=o.useRef(!1),d=o.useRef({x:0,y:0});o.useEffect(()=>{l.current=t.nodes.map(h=>({...h,x:(Math.random()-.5)*200,y:(Math.random()-.5)*200,z:(Math.random()-.5)*200,vx:0,vy:0,vz:0}))},[t.nodes]);const u=o.useCallback(()=>{const h=l.current,g=t.links;for(let b=0;b<h.length;b++){const v=h[b];for(let y=b+1;y<h.length;y++){const j=h[y],E=j.x-v.x,w=j.y-v.y,C=j.z-v.z,k=Math.sqrt(E*E+w*w+C*C)||1,R=500/(k*k);v.vx-=E/k*R,v.vy-=w/k*R,v.vz-=C/k*R,j.vx+=E/k*R,j.vy+=w/k*R,j.vz+=C/k*R}v.vx-=v.x*.01,v.vy-=v.y*.01,v.vz-=v.z*.01}for(const b of g){const v=h.find(R=>R.id===b.source),y=h.find(R=>R.id===b.target);if(!v||!y)continue;const j=y.x-v.x,E=y.y-v.y,w=y.z-v.z,C=Math.sqrt(j*j+E*E+w*w)||1,k=(C-50)*.01*b.weight;v.vx+=j/C*k,v.vy+=E/C*k,v.vz+=w/C*k,y.vx-=j/C*k,y.vy-=E/C*k,y.vz-=w/C*k}for(const b of h)b.x+=b.vx*.1,b.y+=b.vy*.1,b.z+=b.vz*.1,b.vx*=.9,b.vy*=.9,b.vz*=.9},[t.links]);o.useEffect(()=>{const h=n.current;if(!h)return;const g=h.getContext("2d");if(!g)return;const b=()=>{const v=h.width,y=h.height,j=v/2,E=y/2;g.fillStyle="rgba(15, 23, 42, 0.95)",g.fillRect(0,0,v,y),u();const w=l.current,C=t.links,k=i.current.x,R=i.current.y,L=(T,P,M)=>{const $=T*Math.cos(R)-M*Math.sin(R),O=T*Math.sin(R)+M*Math.cos(R),Y=P*Math.cos(k)-O*Math.sin(k),Z=400/(400+(P*Math.sin(k)+O*Math.cos(k)));return{x:j+$*Z,y:E+Y*Z,scale:Z}},z=[...w].sort((T,P)=>{const M=T.z*Math.cos(k)+T.y*Math.sin(k);return P.z*Math.cos(k)+P.y*Math.sin(k)-M});g.globalAlpha=.3;for(const T of C){const P=w.find(Y=>Y.id===T.source),M=w.find(Y=>Y.id===T.target);if(!P||!M)continue;const $=L(P.x,P.y,P.z),O=L(M.x,M.y,M.z);g.beginPath(),g.moveTo($.x,$.y),g.lineTo(O.x,O.y),g.strokeStyle="#64748b",g.lineWidth=T.weight*2,g.stroke()}g.globalAlpha=1;for(const T of z){const P=L(T.x,T.y,T.z),M=6*P.scale*(.5+T.strength*.5),$=g.createRadialGradient(P.x,P.y,0,P.x,P.y,M*2),O=a[T.type]||"#64748b";$.addColorStop(0,O),$.addColorStop(1,"transparent"),g.beginPath(),g.arc(P.x,P.y,M*2,0,Math.PI*2),g.fillStyle=$,g.globalAlpha=.3,g.fill(),g.beginPath(),g.arc(P.x,P.y,M,0,Math.PI*2),g.fillStyle=O,g.globalAlpha=1,g.fill(),g.strokeStyle="rgba(255, 255, 255, 0.5)",g.lineWidth=1,g.stroke()}c.current||(i.current.y+=.002),r.current=requestAnimationFrame(b)};return b(),()=>{r.current&&cancelAnimationFrame(r.current)}},[t.links,u,a]);const x=h=>{c.current=!0,d.current={x:h.clientX,y:h.clientY}},m=h=>{if(!c.current)return;const g=h.clientX-d.current.x,b=h.clientY-d.current.y;i.current.y+=g*.005,i.current.x+=b*.005,d.current={x:h.clientX,y:h.clientY}},p=()=>{c.current=!1},f=h=>{if(!n.current||!s)return;const g=n.current.getBoundingClientRect(),b=h.clientX-g.left,v=h.clientY-g.top,y=n.current.width/2,j=n.current.height/2,E=i.current.x,w=i.current.y;for(const C of l.current){const k=C.x*Math.cos(w)-C.z*Math.sin(w),R=C.x*Math.sin(w)+C.z*Math.cos(w),L=C.y*Math.cos(E)-R*Math.sin(E),T=400/(400+(C.y*Math.sin(E)+R*Math.cos(E))),P=y+k*T,M=j+L*T,$=6*T*(.5+C.strength*.5);if(Math.sqrt((b-P)**2+(v-M)**2)<$+5){s(C);return}}};return e.jsx("canvas",{ref:n,width:800,height:500,className:"w-full h-full cursor-grab active:cursor-grabbing",onMouseDown:x,onMouseMove:m,onMouseUp:p,onMouseLeave:p,onClick:f})}function Ja(){const{getMemoryGraph:t}=_(),[s,a]=o.useState({nodes:[],links:[]}),[n,r]=o.useState(null),[l,i]=o.useState(null);o.useEffect(()=>{const x=async()=>{const p=await t();p?.graph&&a(p.graph)};x();const m=setInterval(x,1e4);return()=>clearInterval(m)},[t]);const c=l?{nodes:s.nodes.filter(x=>x.type===l),links:s.links.filter(x=>{const m=s.nodes.find(f=>f.id===x.source),p=s.nodes.find(f=>f.id===x.target);return m?.type===l&&p?.type===l})}:s,d=["belief","desire","experience","reflection","capability","goal"],u={belief:"#3b82f6",desire:"#f59e0b",experience:"#10b981",reflection:"#8b5cf6",capability:"#06b6d4",goal:"#ef4444"};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Memory Topology"}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"3D visualization of BYRD's memory graph"})]}),e.jsx(S,{glow:"none",padding:"md",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Filter by type:"}),e.jsx("button",{onClick:()=>i(null),className:`px-3 py-1 rounded text-sm transition-colors ${l===null?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-300"}`,children:"All"}),d.map(x=>e.jsx("button",{onClick:()=>i(x),className:`px-3 py-1 rounded text-sm capitalize transition-colors ${l===x?"text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-300"}`,style:l===x?{backgroundColor:u[x]}:void 0,children:x},x))]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(S,{glow:"cyan",padding:"none",className:"overflow-hidden",children:e.jsx("div",{className:"h-[500px]",children:e.jsx(Ya,{data:c,onNodeClick:r,typeColors:u})})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(S,{glow:"none",padding:"lg",className:"h-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Node Details"}),n?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Type"}),e.jsx("div",{className:"font-medium capitalize",style:{color:u[n.type]},children:n.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Label"}),e.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:n.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Strength"}),e.jsxs("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:[(n.strength*100).toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-slate-500",children:"Created"}),e.jsx("div",{className:"text-sm text-slate-900 dark:text-slate-100",children:new Date(n.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-slate-500",children:"ID"}),e.jsx("div",{className:"text-xs font-mono text-slate-500 break-all",children:n.id})]})]}):e.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"Click a node to view details"})]})})]}),e.jsx(S,{glow:"none",padding:"md",children:e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-6",children:d.map(x=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u[x]}}),e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400 capitalize",children:x}),e.jsxs("span",{className:"text-xs text-slate-400",children:["(",c.nodes.filter(m=>m.type===x).length,")"]})]},x))})})]})}function Ka(){const t=o.useRef(null),s=o.useRef(0),a=10,n=X(c=>c.addEvent),r=X(c=>c.setConnected),l=o.useCallback(()=>{const d=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/events`;try{t.current=new WebSocket(d),t.current.onopen=()=>{console.log("WebSocket connected"),r(!0),s.current=0},t.current.onmessage=u=>{try{const x=JSON.parse(u.data);x.timestamp||(x.timestamp=new Date().toISOString()),x.id||(x.id=`${x.type}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),n(x)}catch(x){console.error("Failed to parse WebSocket message:",x)}},t.current.onclose=()=>{if(console.log("WebSocket disconnected"),r(!1),s.current<a){const u=Math.min(1e3*Math.pow(2,s.current),3e4);console.log(`Reconnecting in ${u}ms...`),setTimeout(()=>{s.current++,l()},u)}},t.current.onerror=u=>{console.error("WebSocket error:",u)}}catch(u){console.error("Failed to create WebSocket:",u)}},[n,r]);o.useEffect(()=>{l();const c=setInterval(()=>{t.current?.readyState===WebSocket.OPEN&&t.current.send(JSON.stringify({type:"ping"}))},3e4);return()=>{clearInterval(c),t.current?.close()}},[l]);const i=o.useCallback(c=>{t.current?.readyState===WebSocket.OPEN&&t.current.send(JSON.stringify(c))},[]);return{isConnected:X(c=>c.connected),send:i}}function Xa(){const{isConnected:t}=Ka();return o.useEffect(()=>{console.log(`WebSocket connection status: ${t?"connected":"disconnected"}`)},[t]),e.jsx(Xs,{children:e.jsxs(us,{children:[e.jsx(B,{path:"/",element:e.jsx(pa,{})}),e.jsx(B,{path:"/rsi",element:e.jsx(Ea,{})}),e.jsx(B,{path:"/economic",element:e.jsx(Ia,{})}),e.jsx(B,{path:"/plasticity",element:e.jsx(Da,{})}),e.jsx(B,{path:"/scaling",element:e.jsx(Oa,{})}),e.jsx(B,{path:"/verification",element:e.jsx(Ua,{})}),e.jsx(B,{path:"/controls",element:e.jsx(Va,{})}),e.jsx(B,{path:"/visualization",element:e.jsx(Ja,{})})]})})}function Qa(){return e.jsx(Ls,{children:e.jsx(Xa,{})})}ot.createRoot(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Qa,{})}));

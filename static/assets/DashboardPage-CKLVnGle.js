import{a as c,j as e}from"./three-DJcLMhxG.js";import{G as f}from"./GlassPanel-BFjrJokV.js";import{u as w}from"./useByrdAPI-DhEZBBJ6.js";import{c as V,u as k,a as C}from"./index-BQvJp2TT.js";import{c as y}from"./charts-B4tPbF-_.js";import{C as A}from"./ConsciousnessStream-BetDQ5-P.js";const R=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],F=V("brain",R);const D=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],I=V("trending-up",D);function _(){const{getRSIStatus:a,loading:t}=w(),[r,i]=c.useState(null);c.useEffect(()=>{const n=async()=>{try{const o=await a();o&&i(o)}catch(o){console.error("Failed to fetch RSI status:",o)}};n();const l=setInterval(n,5e3);return()=>clearInterval(l)},[a]);const s=r?.cycle_number||r?.total_cycles||0;return e.jsxs(f,{glow:"blue",padding:"lg",className:"h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"System Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(T,{status:r?.current_phase?"running":"idle"})})]}),t&&!r?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("span",{className:"text-slate-400 animate-pulse",children:"Loading..."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Current Phase"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(M,{phase:r?.current_phase||"idle"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Cycle Progress"}),e.jsx("div",{className:"grid grid-cols-8 gap-1 mt-2",children:["reflect","verify","collapse","route","practice","record","crystallize","measure"].map(n=>e.jsx(P,{phase:n,active:r?.current_phase===n,completed:O(r?.completed_phases,n)},n))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx(m,{label:"Cycles",value:s}),e.jsx(m,{label:"Heuristics",value:r?.desires_selected||0}),e.jsx(m,{label:"Beliefs",value:r?.desires_verified||0}),e.jsx(m,{label:"Capabilities",value:r?.desires_generated||0})]})]})]})}function T({status:a}){const r={running:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",label:"Running"},idle:{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-600 dark:text-slate-400",label:"Idle"},error:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",label:"Error"}}[a];return e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.bg} ${r.text}`,children:r.label})}function M({phase:a}){const t={reflect:"var(--rsi-reflect)",verify:"var(--rsi-verify)",collapse:"var(--rsi-collapse)",route:"var(--rsi-route)",practice:"var(--rsi-practice)",record:"var(--rsi-record)",crystallize:"var(--rsi-crystallize)",measure:"var(--rsi-measure)",idle:"#64748b"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t[a]||t.idle}}),e.jsx("span",{className:"text-lg font-medium text-slate-900 dark:text-slate-100 capitalize",children:a})]})}function P({phase:a,active:t,completed:r}){const i={reflect:"var(--rsi-reflect)",verify:"var(--rsi-verify)",collapse:"var(--rsi-collapse)",route:"var(--rsi-route)",practice:"var(--rsi-practice)",record:"var(--rsi-record)",crystallize:"var(--rsi-crystallize)",measure:"var(--rsi-measure)"};return e.jsx("div",{className:`h-8 rounded flex items-center justify-center text-xs ${t?"animate-pulse":""}`,style:{backgroundColor:r||t?i[a]:"rgba(100, 116, 139, 0.2)",opacity:r?1:t?.8:.3},title:a.charAt(0).toUpperCase()+a.slice(1),children:e.jsx("span",{className:"text-white font-medium",children:a.charAt(0).toUpperCase()})})}function m({label:a,value:t}){return e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide",children:a}),e.jsx("div",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100",children:t})]})}function O(a,t){return a?a.includes(t):!1}function L(){const t=k(r=>r.events).slice(-10).reverse();return e.jsxs(f,{glow:"none",padding:"lg",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:"Recent Activity"}),t.length===0?e.jsx("div",{className:"text-center py-8 text-slate-400",children:"No events yet. Start BYRD to see activity."}):e.jsx("div",{className:"space-y-2",children:t.map(r=>e.jsx(B,{event:r},r.id))})]})}function B({event:a}){const t=Y(a.type);return e.jsxs("div",{className:"flex items-start gap-3 py-2 border-b border-slate-100 dark:border-slate-800 last:border-0",children:[e.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm shrink-0",style:{backgroundColor:t.color},children:t.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:t.label}),e.jsx("span",{className:"text-xs text-slate-400",children:H(a.timestamp)})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate",children:$(a)})]})]})}function Y(a){return{BELIEF_CREATED:{icon:"ðŸ’­",color:"var(--node-belief)",label:"Belief Created"},DESIRE_CREATED:{icon:"âœ¨",color:"var(--node-desire)",label:"Desire Created"},CAPABILITY_ACQUIRED:{icon:"ðŸŽ¯",color:"var(--node-capability)",label:"Capability Acquired"},RSI_CYCLE_COMPLETE:{icon:"ðŸ”„",color:"var(--rsi-measure)",label:"RSI Cycle Complete"},RSI_PHASE:{icon:"â–¶ï¸",color:"var(--rsi-practice)",label:"Phase Transition"},EMERGENCE_DETECTED:{icon:"ðŸŒŸ",color:"#7c3aed",label:"Emergence Detected"},HEURISTIC_CRYSTALLIZED:{icon:"ðŸ’Ž",color:"var(--node-crystal)",label:"Heuristic Crystallized"},EXPERIENCE_RECORDED:{icon:"ðŸ“",color:"var(--node-experience)",label:"Experience Recorded"},REFLECTION_COMPLETE:{icon:"ðŸ”®",color:"var(--node-reflection)",label:"Reflection Complete"},GOAL_SET:{icon:"ðŸŽ¯",color:"var(--node-goal)",label:"Goal Set"},SYSTEM:{icon:"âš™ï¸",color:"#64748b",label:"System"},ERROR:{icon:"âŒ",color:"#ef4444",label:"Error"}}[a]||{icon:"ðŸ“Œ",color:"#64748b",label:a}}function $(a){return a.data?.description&&typeof a.data.description=="string"?a.data.description:a.data?.content&&typeof a.data.content=="string"?a.data.content:a.data?.phase&&typeof a.data.phase=="string"?`Phase: ${a.data.phase}`:a.data?.message&&typeof a.data.message=="string"?a.data.message:JSON.stringify(a.data||{}).slice(0,100)}function H(a){return new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}const E={blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",amber:"text-amber-600 dark:text-amber-400",rose:"text-rose-600 dark:text-rose-400",purple:"text-purple-600 dark:text-purple-400"},U={up:"text-green-500",down:"text-red-500",neutral:"text-slate-500"},q={up:"â†‘",down:"â†“",neutral:"â†’"};function h({label:a,value:t,icon:r,trend:i,color:s="blue",size:n="md",className:l=""}){return e.jsx(f,{padding:"sm",glow:s==="blue"?"blue":"none",className:`active:scale-[0.98] transition-transform ${l}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide truncate",children:a}),e.jsx("p",{className:y("font-semibold tabular-nums mt-0.5 truncate",E[s],n==="sm"?"text-lg":n==="lg"?"text-3xl":"text-xl lg:text-2xl"),children:t}),i&&e.jsxs("p",{className:y("text-[10px] sm:text-xs mt-1",U[i.direction]),children:[q[i.direction]," ",Math.abs(i.value),"%"]})]}),r&&e.jsx("div",{className:y("text-xl sm:text-2xl opacity-60 flex-shrink-0",E[s]),children:r})]})})}function G(){const{getRSIMetrics:a}=w(),[t,r]=c.useState(null);c.useEffect(()=>{const s=async()=>{try{const l=await a();l&&r(l)}catch(l){console.error("Failed to fetch metrics:",l)}};s();const n=setInterval(s,1e4);return()=>clearInterval(n)},[a]);const i=t?.cycle_number||t?.rsi_metrics?.complete_cycles||0;return e.jsxs("div",{className:"flex overflow-x-auto gap-4 pb-2 -mx-4 px-4 snap-x snap-mandatory scrollbar-hide",children:[e.jsx(h,{label:"RSI Cycles",value:i,icon:"ðŸ”„",color:"blue",trend:i>0?{value:12,direction:"up"}:void 0,className:"min-w-[160px] snap-start"}),e.jsx(h,{label:"Memory Nodes",value:t?.memory_nodes||0,icon:"ðŸ§ ",color:"purple",className:"min-w-[160px] snap-start"}),e.jsx(h,{label:"Capabilities",value:t?.capabilities||0,icon:"ðŸŽ¯",color:"amber",className:"min-w-[160px] snap-start"}),e.jsx(h,{label:"Desires Processed",value:t?.desires_processed||0,icon:"âœ¨",color:"green",className:"min-w-[160px] snap-start"})]})}var x=function(){return x=Object.assign||function(a){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s]);return a},x.apply(this,arguments)},z=(function(){function a(t,r,i){var s=this;this.endVal=r,this.options=i,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(n){s.startTime||(s.startTime=n);var l=n-s.startTime;s.remaining=s.duration-l,s.useEasing?s.countDown?s.frameVal=s.startVal-s.easingFn(l,0,s.startVal-s.endVal,s.duration):s.frameVal=s.easingFn(l,s.startVal,s.endVal-s.startVal,s.duration):s.frameVal=s.startVal+(s.endVal-s.startVal)*(l/s.duration);var o=s.countDown?s.frameVal<s.endVal:s.frameVal>s.endVal;s.frameVal=o?s.endVal:s.frameVal,s.frameVal=Number(s.frameVal.toFixed(s.options.decimalPlaces)),s.printValue(s.frameVal),l<s.duration?s.rAF=requestAnimationFrame(s.count):s.finalEndVal!==null?s.update(s.finalEndVal):s.options.onCompleteCallback&&s.options.onCompleteCallback()},this.formatNumber=function(n){var l,o,d,u,S=n<0?"-":"";l=Math.abs(n).toFixed(s.options.decimalPlaces);var g=(l+="").split(".");if(o=g[0],d=g.length>1?s.options.decimal+g[1]:"",s.options.useGrouping){u="";for(var j=3,b=0,p=0,N=o.length;p<N;++p)s.options.useIndianSeparators&&p===4&&(j=2,b=1),p!==0&&b%j==0&&(u=s.options.separator+u),b++,u=o[N-p-1]+u;o=u}return s.options.numerals&&s.options.numerals.length&&(o=o.replace(/[0-9]/g,(function(v){return s.options.numerals[+v]})),d=d.replace(/[0-9]/g,(function(v){return s.options.numerals[+v]}))),S+s.options.prefix+o+d+s.options.suffix},this.easeOutExpo=function(n,l,o,d){return o*(1-Math.pow(2,-10*n/d))*1024/1023+l},this.options=x(x({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof t=="string"?document.getElementById(t):t,r=r??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(r),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return s.handleScroll(s)})),window.onscroll=function(){window.onScrollFns.forEach((function(n){return n()}))},this.handleScroll(this)))}return a.prototype.handleScroll=function(t){if(t&&window&&!t.once){var r=window.innerHeight+window.scrollY,i=t.el.getBoundingClientRect(),s=i.top+window.pageYOffset,n=i.top+i.height+window.pageYOffset;n<r&&n>window.scrollY&&t.paused?(t.paused=!1,setTimeout((function(){return t.start()}),t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>n||s>r)&&!t.paused&&t.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var r=t-this.startVal;if(Math.abs(r)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var i=this.countDown?1:-1;this.endVal=t+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(t){var r;if(this.el){var i=this.formattingFn(t);!((r=this.options.plugin)===null||r===void 0)&&r.render?this.options.plugin.render(this.el,i):this.el.tagName==="INPUT"?this.el.value=i:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=i:this.el.innerHTML=i}},a.prototype.ensureNumber=function(t){return typeof t=="number"&&!isNaN(t)},a.prototype.validateValue=function(t){var r=Number(t);return this.ensureNumber(r)?r:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a.prototype.parse=function(t){var r=function(l){return l.replace(/([.,'Â  ])/g,"\\$1")},i=r(this.options.separator),s=r(this.options.decimal),n=t.replace(new RegExp(i,"g"),"").replace(new RegExp(s,"g"),".");return parseFloat(n)},a})();function Q({value:a,decimals:t=0,duration:r=1,className:i}){const s=c.useRef(null),[n,l]=c.useState(!1);return c.useEffect(()=>{if(!s.current||n)return;const o=new z(s.current,a,{duration:r,decimalPlaces:t,separator:","});o.error?s.current.textContent=a.toFixed(t):(o.start(),l(!0))},[a,t,r,n]),e.jsx("span",{ref:s,className:C("tabular-nums",i),children:a.toFixed(t)})}function J({value:a,trend:t,label:r="Digital ASI Probability"}){return e.jsxs(f,{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-purple-500/10 to-transparent rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),e.jsx("h2",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:r})]}),e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsxs("div",{className:"flex items-baseline",children:[e.jsx("span",{className:"text-6xl lg:text-7xl font-bold text-slate-900 dark:text-slate-100 tabular-nums",children:e.jsx(Q,{value:a,decimals:1})}),e.jsx("span",{className:"text-3xl lg:text-4xl font-semibold text-slate-700 dark:text-slate-300 ml-1",children:"%"})]}),t!==void 0&&e.jsxs("div",{className:`
              flex items-center gap-1 px-2 py-1 rounded-lg text-sm font-medium
              ${t>0?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":""}
              ${t<0?"bg-rose-100 dark:bg-rose-900/30 text-rose-700 dark:text-rose-300":""}
              ${t===0?"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400":""}
            `,children:[e.jsx(I,{className:`w-4 h-4 ${t<0?"rotate-180":""}`}),e.jsxs("span",{className:"tabular-nums",children:[Math.abs(t).toFixed(1),"%"]})]})]}),e.jsx("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-400 max-w-md",children:"Research phase complete (29 iterations). Bounded RSI validated."})]})]})}function se(){return e.jsxs("div",{className:"space-y-4 lg:space-y-6 animate-fade-in pb-20",children:[e.jsx("div",{className:"px-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-slate-900 dark:text-slate-100",children:"Dashboard"}),e.jsx("p",{className:"text-xs lg:text-sm text-slate-500 dark:text-slate-400",children:"BYRD Recursive Self-Improvement Overview"})]})})}),e.jsx("div",{className:"px-4",children:e.jsx(J,{value:42.5,trend:2.3})}),e.jsx("div",{className:"px-4",children:e.jsx(G,{})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6 px-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(_,{})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(A,{})})]}),e.jsx("div",{className:"px-4",children:e.jsx(L,{})})]})}export{se as DashboardPage};
